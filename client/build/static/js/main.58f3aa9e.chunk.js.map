{"version":3,"sources":["redux/actions/postAction.js","components/message/Times.js","components/message/MsgDisplay.js","components/message/RightSide.js","pages/message/[id].js","pages sync /^/.*$","redux/actions/notifyAction.js","redux/actions/messageAction.js","images/loading.gif","../node_modules/peerjs/dist sync","components/NotFound.js","customRouter/PageRender.js","customRouter/PrivateRouter.js","components/alert/Loading.js","components/alert/Toast.js","components/alert/Alert.js","components/NotifyModal.js","images/notice.png","components/header/Menu.js","components/header/Search.js","components/header/Header.js","components/StatusModal.js","audio/got-it-done-613.mp3","SocketClient.js","audio/ringring.mp3","components/message/CallModal.js","App.js","reportWebVitals.js","redux/reducers/authReducer.js","redux/reducers/alertReducer.js","redux/reducers/themeReducer.js","redux/reducers/profileReducer.js","redux/reducers/statusReducer.js","redux/reducers/postReducer.js","redux/reducers/modalReducer.js","redux/reducers/detailPostReducer.js","redux/reducers/discoverReducer.js","redux/reducers/suggestionsReducer.js","redux/reducers/socketReducer.js","redux/reducers/notifyReducer.js","redux/reducers/messageReducer.js","redux/reducers/onlineReducer.js","redux/reducers/callReducer.js","redux/reducers/peerReducer.js","redux/reducers/scrollReducer.js","redux/reducers/index.js","redux/store.js","index.js","components/Avatar.js","redux/actions/profileAction.js","components/UserCard.js","utils/mediaShow.js","redux/actions/globalTypes.js","utils/imageUpload.js","components/LoadMoreBtn.js","components/FollowBtn.js","utils/valid.js","redux/actions/authAction.js","redux/actions/suggestionsAction.js","redux/actions/discoverAction.js","components/PostThumb.js","components/Icons.js","pages/message/index.js","pages/login.js","pages/register.js","components/home/Status.js","components/home/Posts.js","components/home/RightSideBar.js","pages/home.js","redux/actions/scrollAction.js","components/message/LeftSide.js","utils/config.js","components/home/post_card/CardHeader.js","components/Carousel.js","components/home/post_card/CardBody.js","images/send.svg","components/LikeButton.js","components/ShareModal.js","components/home/post_card/CardFooter.js","redux/actions/commentAction.js","components/home/comments/CommentMenu.js","components/home/InputComment.js","components/home/comments/CommentCard.js","components/home/comments/CommentDisplay.js","components/home/Comments.js","components/PostCard.js","pages/discover.js","utils/fetchData.js","pages/post/[id].js","components/profile/EditProfile.js","components/profile/Followers.js","components/profile/Following.js","components/profile/Info.js","components/profile/Posts.js","components/profile/Saved.js","pages/profile/[id].js"],"names":["POST_TYPES","CREATE_POST","LOADING_POST","GET_POSTS","UPDATE_POST","GET_POST","DELETE_POST","createPost","content","images","auth","socket","dispatch","a","media","type","GLOBALTYPES","ALERT","payload","loading","length","imageUpload","postDataAPI","token","res","data","newPost","user","msg","id","_id","text","recipients","followers","url","image","createNotify","errorMsg","response","error","getPosts","getDataAPI","page","updatePost","status","imgNewUrl","filter","img","imgOldUrl","patchDataAPI","success","likePost","post","likes","emit","unLikePost","like","removeNotify","getPost","detailPost","every","deletePost","deleteDataAPI","savePost","newUser","saved","AUTH","unSavePost","Times","total","parseInt","toString","MsgDisplay","theme","useSelector","state","useDispatch","className","Avatar","src","avatar","size","username","onClick","window","confirm","deleteMessages","style","map","item","index","match","videoShow","imageShow","call","background","borderRadius","fontSize","color","times","video","Date","createdAt","toLocaleTimeString","toLocaleString","RightSide","message","peer","useParams","useState","setUser","setText","setMedia","loadMedia","setLoadMedia","refDisplay","useRef","pageEnd","setData","result","setResult","setPage","isLoadMore","setIsLoadMore","history","useHistory","useEffect","newData","find","messages","users","setTimeout","current","scrollIntoView","behavior","block","handleSubmit","e","preventDefault","trim","newArr","sender","recipient","toISOString","addMessage","getMessages","getMessagesData","IntersectionObserver","entries","isIntersecting","p","threshold","observe","loadMoreMessages","caller","fullname","CALL","callUser","open","peerId","cursor","UserCard","deleteConversation","push","height","ref","marginTop","opacity","LoadIcon","alt","display","URL","createObjectURL","splice","handleDeleteMedia","onSubmit","placeholder","value","onChange","target","Icons","setContent","name","multiple","accept","files","err","newMedia","forEach","file","disabled","Conversation","LeftSide","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports","NOTIFY_TYPES","GET_NOTIFIES","CREATE_NOTIFY","REMOVE_NOTIFY","UPDATE_NOTIFY","UPDATE_SOUND","DELETE_ALL_NOTIFIES","notify","getNotifies","notifies","isReadNotify","isRead","deleteAllNotifies","MESS_TYPES","ADD_USER","ADD_MESSAGE","GET_CONVERSATIONS","GET_MESSAGES","UPDATE_MESSAGES","DELETE_MESSAGES","DELETE_CONVERSATION","CHECK_ONLINE_OFFLINE","getConversations","conversations","cv","reverse","DeleteData","webpackEmptyContext","NotFound","minHeight","top","left","transform","PageRender","pageName","React","createElement","require","default","generatePage","PrivateRouter","props","localStorage","getItem","to","Loading","zIndex","width","viewBox","stroke","strokeWidth","fill","points","x","y","Toast","handleShow","bgColor","right","minWidth","title","data-dismiss","outline","body","Notify","alert","NotifyModal","handleSound","sound","maxHeight","overflow","handleIsRead","slice","moment","fromNow","Menu","pathname","useLocation","isActive","pn","label","icon","path","link","role","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","htmlFor","THEME","logout","Search","search","setSearch","setUsers","load","setLoad","handleSearch","then","catch","handleClose","toLowerCase","replace","border","Header","scrollTo","StatusModal","setImages","stream","setStream","videoRef","refCanvas","tracks","setTracks","onEdit","stop","STATUS","camera","deleteImages","autoPlay","muted","clientWidth","clientHeight","setAttribute","getContext","drawImage","toDataURL","navigator","mediaDevices","getUserMedia","mediaStream","srcObject","play","track","getTracks","console","log","newImages","SocketClient","online","audioRef","on","off","Notification","onclick","includes","ONLINE","OFFLINE","controls","audiobell","CallModal","hours","setHours","mins","setMins","second","setSecond","setTotal","answer","setAnswer","youVideo","otherVideo","newCall","setNewCall","setTime","t","addCallMessage","useCallback","disconnect","handleEndCall","close","timer","clearTimeout","openStream","config","audio","playStream","tag","handleAnswer","remoteStream","removeListener","pauseAudio","newAudio","pause","currentTime","Audio","RingRing","playAudio","padding","playsInline","App","modal","refreshToken","io","SOCKET","getSuggestions","permission","requestPermission","newPeer","Peer","undefined","secure","PEER","Alert","exact","component","Home","Login","Register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","authReducer","action","alertReducer","themeReducer","ids","posts","profileReducer","PROFILE_TYPES","LOADING","GET_USER","FOLLOW","UNFOLLOW","EditData","GET_ID","statusReducer","postReducer","modalReducer","MODAL","detailPostReducer","firstLoad","discoverReducer","DISCOVER_TYPES","suggestionsReducer","SUGGES_TYPES","GET_USERS","socketReducer","notifyReducer","resultUsers","messageReducer","onlineReducer","callReducer","peerReducer","scrollReducer","SCROLL_TYPES","SCROLL","combineReducers","profile","homePosts","discover","suggestions","scroll","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","DataProvider","children","ReactDOM","render","StrictMode","document","getElementById","getProfileUsers","res1","updateProfileUser","userData","story","follow","following","unfollow","setShowFollowers","setShowFollowing","showMsg","checkImage","imgArr","formData","FormData","append","fetch","method","ok","json","public_id","secure_url","LoadMoreBtn","handleLoadMore","FollowBtn","followed","setFollowed","handleFollow","handleUnFollow","valid","email","password","cf_password","test","validateEmail","errMsg","errLength","login","access_token","setItem","register","check","removeItem","location","href","getDiscoverPosts","PostThumb","comments","Message","setUserData","typePass","setTypePass","handleChangeInput","aria-describedby","gender","typeCfPass","setTypeCfPass","defaultChecked","Status","Posts","PostCard","RightSideBar","addEventListener","scrollToAction","pageYOffset","searchUsers","setSearchUsers","handleAddUser","BASE_URL","CardHeader","clipboard","writeText","Carousel","data-ride","_","data-target","data-slide-to","data-slide","aria-hidden","CardBody","readMore","setReadMore","LikeButton","isLike","handleLike","handleUnLike","ShareModal","FacebookShareButton","FacebookIcon","round","TwitterShareButton","TwitterIcon","EmailShareButton","EmailIcon","RedditShareButton","RedditIcon","TelegramShareButton","TelegramIcon","WhatsappShareButton","WhatsappIcon","CardFooter","setIsLike","loadLike","setLoadLike","isShare","setIsShare","setSaved","saveLoad","setSaveLoad","handleSavePost","handleUnSavePost","Send","likeComment","comment","newComment","newComments","unLikeComment","CommentMenu","setOnEdit","handleRemove","deleteArr","cm","reply","da","deleteComment","MenuItem","InputComment","onReply","setOnReply","commentId","postId","postUserId","createComment","CommentCard","styleCard","pointerEvents","rows","updateComment","CommentDisplay","replyCm","showRep","setShowRep","next","setNext","Comments","setComments","showComments","setShowComments","replyComments","setReplyComments","newCm","newRep","Discover","axios","get","headers","Authorization","patch","delete","Post","setPost","EditProfile","mobile","address","website","setAvatar","handleInput","cols","Followers","Following","Info","showFollowers","showFollowing","rel","setPosts","Saved","savePosts","setSavePosts","Profile","saveTab","setSaveTab"],"mappings":"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","file":"static/js/main.58f3aa9e.chunk.js","sourcesContent":["import { GLOBALTYPES } from './globalTypes';\r\nimport { imageUpload } from '../../utils/imageUpload';\r\nimport { postDataAPI, getDataAPI, patchDataAPI, deleteDataAPI } from '../../utils/fetchData';\r\nimport { createNotify, removeNotify } from './notifyAction';\r\n\r\nexport const POST_TYPES = {\r\n  CREATE_POST: 'CREATE_POST',\r\n  LOADING_POST: 'LOADING_POST',\r\n  GET_POSTS: 'GET_POSTS',\r\n  UPDATE_POST: 'UPDATE_POST',\r\n  GET_POST: 'GET_POST',\r\n  DELETE_POST: 'DELETE_POST'\r\n};\r\n\r\nexport const createPost = ({ content, images, auth, socket }) => async (dispatch) => {\r\n  let media = [];\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    if (images.length > 0) media = await imageUpload(images);\r\n\r\n    const res = await postDataAPI('posts', { content, images: media }, auth.token);\r\n\r\n    dispatch({\r\n      type: POST_TYPES.CREATE_POST,\r\n      payload: { ...res.data.newPost, user: auth.user }\r\n    });\r\n\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: false } });\r\n\r\n    // Notify\r\n    const msg = {\r\n      id: res.data.newPost._id,\r\n      text: 'added a new post.',\r\n      recipients: res.data.newPost.user.followers,\r\n      url: `/post/${res.data.newPost._id}`,\r\n      content,\r\n      image: media[0]?.url\r\n    };\r\n\r\n    dispatch(createNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    const errorMsg = err.response?.data?.msg || 'An unexpected error occurred.';\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: errorMsg }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getPosts = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: POST_TYPES.LOADING_POST, payload: true });\r\n    const res = await getDataAPI('posts', token);\r\n\r\n    dispatch({\r\n      type: POST_TYPES.GET_POSTS,\r\n      payload: { ...res.data, page: 2 }\r\n    });\r\n\r\n    dispatch({ type: POST_TYPES.LOADING_POST, payload: false });\r\n  } catch (err) {\r\n    const errorMsg = err.response?.data?.msg || 'An unexpected error occurred.';\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: errorMsg }\r\n    });\r\n  }\r\n};\r\n\r\nexport const updatePost = ({ content, images, auth, status }) => async (dispatch) => {\r\n  let media = [];\r\n  const imgNewUrl = images.filter(img => !img.url);\r\n  const imgOldUrl = images.filter(img => img.url);\r\n\r\n  if (status.content === content\r\n    && imgNewUrl.length === 0\r\n    && imgOldUrl.length === status.images.length\r\n  ) return;\r\n\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    if (imgNewUrl.length > 0) media = await imageUpload(imgNewUrl);\r\n\r\n    const res = await patchDataAPI(`post/${status._id}`, {\r\n      content, images: [...imgOldUrl, ...media]\r\n    }, auth.token);\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: res.data.newPost });\r\n\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n  } catch (err) {\r\n    const errorMsg = err.response?.data?.msg || 'An unexpected error occurred.';\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: errorMsg }\r\n    });\r\n  }\r\n};\r\n\r\nexport const likePost = ({ post, auth, socket }) => async (dispatch) => {\r\n  const newPost = { ...post, likes: [...post.likes, auth.user] };\r\n  dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n  socket.emit('likePost', newPost);\r\n\r\n  try {\r\n    await patchDataAPI(`post/${post._id}/like`, null, auth.token);\r\n\r\n    // Notify\r\n    const msg = {\r\n      id: auth.user._id,\r\n      text: 'liked your post.',\r\n      recipients: [post.user._id],\r\n      url: `/post/${post._id}`,\r\n      content: post.content,\r\n      image: post.images[0]?.url\r\n    };\r\n\r\n    dispatch(createNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    const errorMsg = err.response?.data?.msg || 'An unexpected error occurred.';\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: errorMsg }\r\n    });\r\n  }\r\n};\r\n\r\nexport const unLikePost = ({ post, auth, socket }) => async (dispatch) => {\r\n  const newPost = { ...post, likes: post.likes.filter(like => like._id !== auth.user._id) };\r\n  dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n  socket.emit('unLikePost', newPost);\r\n\r\n  try {\r\n    await patchDataAPI(`post/${post._id}/unlike`, null, auth.token);\r\n\r\n    // Notify\r\n    const msg = {\r\n      id: auth.user._id,\r\n      text: 'unliked your post.',\r\n      recipients: [post.user._id],\r\n      url: `/post/${post._id}`,\r\n    };\r\n    dispatch(removeNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    const errorMsg = err.response?.data?.msg || 'An unexpected error occurred.';\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: errorMsg }\r\n    });\r\n  }\r\n};\r\n\r\nexport const getPost = ({ detailPost, id, auth }) => async (dispatch) => {\r\n  if (detailPost.every(post => post._id !== id)) {\r\n    try {\r\n      const res = await getDataAPI(`post/${id}`, auth.token);\r\n      dispatch({ type: POST_TYPES.GET_POST, payload: res.data.post });\r\n    } catch (err) {\r\n      const errorMsg = err.response?.data?.msg || 'An unexpected error occurred.';\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: errorMsg }\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport const deletePost = ({ post, auth, socket }) => async (dispatch) => {\r\n  dispatch({ type: POST_TYPES.DELETE_POST, payload: post });\r\n\r\n  try {\r\n    const res = await deleteDataAPI(`post/${post._id}`, auth.token);\r\n\r\n    // Notify\r\n    const msg = {\r\n      id: post._id,\r\n      text: 'deleted a post.',\r\n      recipients: post.user.followers,\r\n      url: `/post/${post._id}`,\r\n    };\r\n    dispatch(removeNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    const errorMsg = err.response?.data?.msg || 'An unexpected error occurred.';\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: errorMsg }\r\n    });\r\n  }\r\n};\r\n\r\nexport const savePost = ({ post, auth }) => async (dispatch) => {\r\n  const newUser = { ...auth.user, saved: [...auth.user.saved, post._id] };\r\n  dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n\r\n  try {\r\n    await patchDataAPI(`savePost/${post._id}`, null, auth.token);\r\n  } catch (err) {\r\n    const errorMsg = err.response?.data?.msg || 'An unexpected error occurred.';\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: errorMsg }\r\n    });\r\n  }\r\n};\r\n\r\nexport const unSavePost = ({ post, auth }) => async (dispatch) => {\r\n  const newUser = { ...auth.user, saved: auth.user.saved.filter(id => id !== post._id) };\r\n  dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n\r\n  try {\r\n    await patchDataAPI(`unSavePost/${post._id}`, null, auth.token);\r\n  } catch (err) {\r\n    const errorMsg = err.response?.data?.msg || 'An unexpected error occurred.';\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: errorMsg }\r\n    });\r\n  }\r\n};\r\n","import React from \"react\";\r\n\r\nconst Times = ({ total }) => {\r\n  return (\r\n    <div>\r\n      <span>\r\n        {parseInt(total / 3600).toString().length < 2\r\n          ? \"0\" + parseInt(total / 3600)\r\n          : parseInt(total / 3600)}\r\n      </span>\r\n      <span>:</span>\r\n\r\n      <span>\r\n        {parseInt(total / 60).toString().length < 2\r\n          ? \"0\" + parseInt(total / 60)\r\n          : parseInt(total / 60)}\r\n      </span>\r\n      <span>:</span>\r\n\r\n      <span>\r\n        {(total % 60).toString().length < 2\r\n          ? \"0\" + (total % 60) + \"s\"\r\n          : (total % 60) + \"s\"}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Times;\r\n","import React from \"react\";\r\nimport Avatar from \"../Avatar\";\r\nimport { imageShow, videoShow } from \"../../utils/mediaShow\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { deleteMessages } from \"../../redux/actions/messageAction\";\r\nimport Times from \"./Times\";\r\n\r\nconst MsgDisplay = ({ user, msg, theme, data }) => {\r\n  const { auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleDeleteMessages = () => {\r\n    if (!data) return;\r\n\r\n    if (window.confirm(\"Do you want to delete?\")) {\r\n      dispatch(deleteMessages({ msg, data, auth }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"chat_title\">\r\n        <Avatar src={user.avatar} size=\"small-avatar\" />\r\n        <span>{user.username}</span>\r\n      </div>\r\n\r\n      <div className=\"you_content\">\r\n        {user._id === auth.user._id && (\r\n          <i\r\n            className=\"fas fa-trash text-danger\"\r\n            onClick={handleDeleteMessages}\r\n          />\r\n        )}\r\n\r\n        <div>\r\n          {msg.text && (\r\n            <div\r\n              className=\"chat_text\"\r\n              style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n            >\r\n              {msg.text}\r\n            </div>\r\n          )}\r\n          {msg.media.map((item, index) => (\r\n            <div key={index}>\r\n              {item.url.match(/video/i)\r\n                ? videoShow(item.url, theme)\r\n                : imageShow(item.url, theme)}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {msg.call && (\r\n          <button\r\n            className=\"btn d-flex align-items-center py-3\"\r\n            style={{ background: \"#eee\", borderRadius: \"10px\" }}\r\n          >\r\n            <span\r\n              className=\"material-icons font-weight-bold mr-1\"\r\n              style={{\r\n                fontSize: \"2.5rem\",\r\n                color: msg.call.times === 0 ? \"crimson\" : \"green\",\r\n                filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n              }}\r\n            >\r\n              {msg.call.times === 0\r\n                ? msg.call.video\r\n                  ? \"videocam_off\"\r\n                  : \"phone_disabled\"\r\n                : msg.call.video\r\n                ? \"video_camera_front\"\r\n                : \"call\"}\r\n            </span>\r\n\r\n            <div className=\"text-left\">\r\n              <h6>{msg.call.video ? \"Video Call\" : \"Audio Call\"}</h6>\r\n              <small>\r\n                {msg.call.times > 0 ? (\r\n                  <Times total={msg.call.times} />\r\n                ) : (\r\n                  new Date(msg.createdAt).toLocaleTimeString()\r\n                )}\r\n              </small>\r\n            </div>\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"chat_time\">\r\n        {new Date(msg.createdAt).toLocaleString()}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MsgDisplay;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport UserCard from \"../UserCard\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport MsgDisplay from \"./MsgDisplay\";\r\nimport Icons from \"../Icons\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport { imageShow, videoShow } from \"../../utils/mediaShow\";\r\nimport { imageUpload } from \"../../utils/imageUpload\";\r\nimport {\r\n  addMessage,\r\n  getMessages,\r\n  loadMoreMessages,\r\n  deleteConversation,\r\n} from \"../../redux/actions/messageAction\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\n\r\nconst RightSide = () => {\r\n  const { auth, message, theme, socket, peer } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const { id } = useParams();\r\n  const [user, setUser] = useState([]);\r\n  const [text, setText] = useState(\"\");\r\n  const [media, setMedia] = useState([]);\r\n  const [loadMedia, setLoadMedia] = useState(false);\r\n\r\n  const refDisplay = useRef();\r\n  const pageEnd = useRef();\r\n\r\n  const [data, setData] = useState([]);\r\n  const [result, setResult] = useState(9);\r\n  const [page, setPage] = useState(0);\r\n  const [isLoadMore, setIsLoadMore] = useState(0);\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const newData = message.data.find((item) => item._id === id);\r\n    if (newData) {\r\n      setData(newData.messages);\r\n      setResult(newData.result);\r\n      setPage(newData.page);\r\n    }\r\n  }, [message.data, id]);\r\n\r\n  useEffect(() => {\r\n    if (id && message.users.length > 0) {\r\n      setTimeout(() => {\r\n        refDisplay.current.scrollIntoView({ behavior: \"smooth\", block: \"end\" });\r\n      }, 50);\r\n\r\n      const newUser = message.users.find((user) => user._id === id);\r\n      if (newUser) setUser(newUser);\r\n    }\r\n  }, [message.users, id]);\r\n\r\n  const handleChangeMedia = (e) => {\r\n    const files = [...e.target.files];\r\n    let err = \"\";\r\n    let newMedia = [];\r\n\r\n    files.forEach((file) => {\r\n      if (!file) return (err = \"File does not exist.\");\r\n\r\n      if (file.size > 1024 * 1024 * 5) {\r\n        return (err = \"The image/video largest is 5mb.\");\r\n      }\r\n\r\n      return newMedia.push(file);\r\n    });\r\n\r\n    if (err) dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\r\n    setMedia([...media, ...newMedia]);\r\n  };\r\n\r\n  const handleDeleteMedia = (index) => {\r\n    const newArr = [...media];\r\n    newArr.splice(index, 1);\r\n    setMedia(newArr);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!text.trim() && media.length === 0) return;\r\n    setText(\"\");\r\n    setMedia([]);\r\n    setLoadMedia(true);\r\n\r\n    let newArr = [];\r\n    if (media.length > 0) newArr = await imageUpload(media);\r\n\r\n    const msg = {\r\n      sender: auth.user._id,\r\n      recipient: id,\r\n      text,\r\n      media: newArr,\r\n      createdAt: new Date().toISOString(),\r\n    };\r\n\r\n    setLoadMedia(false);\r\n    await dispatch(addMessage({ msg, auth, socket }));\r\n    if (refDisplay.current) {\r\n      refDisplay.current.scrollIntoView({ behavior: \"smooth\", block: \"end\" });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getMessagesData = async () => {\r\n      if (message.data.every((item) => item._id !== id)) {\r\n        await dispatch(getMessages({ auth, id }));\r\n        setTimeout(() => {\r\n          refDisplay.current.scrollIntoView({\r\n            behavior: \"smooth\",\r\n            block: \"end\",\r\n          });\r\n        }, 50);\r\n      }\r\n    };\r\n    getMessagesData();\r\n  }, [id, dispatch, auth, message.data]);\r\n\r\n  // Load More\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries[0].isIntersecting) {\r\n          setIsLoadMore((p) => p + 1);\r\n        }\r\n      },\r\n      {\r\n        threshold: 0.1,\r\n      }\r\n    );\r\n\r\n    observer.observe(pageEnd.current);\r\n  }, [setIsLoadMore]);\r\n\r\n  useEffect(() => {\r\n    if (isLoadMore > 1) {\r\n      if (result >= page * 9) {\r\n        dispatch(loadMoreMessages({ auth, id, page: page + 1 }));\r\n        setIsLoadMore(1);\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [isLoadMore]);\r\n\r\n  const handleDeleteConversation = () => {\r\n    if (window.confirm(\"Do you want to delete?\")) {\r\n      dispatch(deleteConversation({ auth, id }));\r\n      return history.push(\"/message\");\r\n    }\r\n  };\r\n\r\n  // Call\r\n  const caller = ({ video }) => {\r\n    const { _id, avatar, username, fullname } = user;\r\n\r\n    const msg = {\r\n      sender: auth.user._id,\r\n      recipient: _id,\r\n      avatar,\r\n      username,\r\n      fullname,\r\n      video,\r\n    };\r\n    dispatch({ type: GLOBALTYPES.CALL, payload: msg });\r\n  };\r\n\r\n  const callUser = ({ video }) => {\r\n    const { _id, avatar, username, fullname } = auth.user;\r\n\r\n    const msg = {\r\n      sender: _id,\r\n      recipient: user._id,\r\n      avatar,\r\n      username,\r\n      fullname,\r\n      video,\r\n    };\r\n\r\n    if (peer.open) msg.peerId = peer._id;\r\n\r\n    socket.emit(\"callUser\", msg);\r\n  };\r\n\r\n  const handleAudioCall = () => {\r\n    caller({ video: false });\r\n    callUser({ video: false });\r\n  };\r\n\r\n  const handleVideoCall = () => {\r\n    caller({ video: true });\r\n    callUser({ video: true });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"message_header\" style={{ cursor: \"pointer\" }}>\r\n        {user.length !== 0 && (\r\n          <UserCard user={user}>\r\n            <div>\r\n              <i className=\"fas fa-phone-alt\" onClick={handleAudioCall} />\r\n\r\n              <i className=\"fas fa-video mx-3\" onClick={handleVideoCall} />\r\n\r\n              <i\r\n                className=\"fas fa-trash text-danger\"\r\n                onClick={handleDeleteConversation}\r\n              />\r\n            </div>\r\n          </UserCard>\r\n        )}\r\n      </div>\r\n\r\n      <div\r\n        className=\"chat_container\"\r\n        style={{ height: media.length > 0 ? \"calc(100% - 180px)\" : \"\" }}\r\n      >\r\n        <div className=\"chat_display\" ref={refDisplay}>\r\n          <button style={{ marginTop: \"-25px\", opacity: 0 }} ref={pageEnd}>\r\n            Load more\r\n          </button>\r\n\r\n          {data.map((msg, index) => (\r\n            <div key={index}>\r\n              {msg.sender !== auth.user._id && (\r\n                <div className=\"chat_row other_message\">\r\n                  <MsgDisplay user={user} msg={msg} theme={theme} />\r\n                </div>\r\n              )}\r\n\r\n              {msg.sender === auth.user._id && (\r\n                <div className=\"chat_row you_message\">\r\n                  <MsgDisplay\r\n                    user={auth.user}\r\n                    msg={msg}\r\n                    theme={theme}\r\n                    data={data}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n\r\n          {loadMedia && (\r\n            <div className=\"chat_row you_message\">\r\n              <img src={LoadIcon} alt=\"loading\" />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className=\"show_media\"\r\n        style={{ display: media.length > 0 ? \"grid\" : \"none\" }}\r\n      >\r\n        {media.map((item, index) => (\r\n          <div key={index} id=\"file_media\">\r\n            {item.type.match(/video/i)\r\n              ? videoShow(URL.createObjectURL(item), theme)\r\n              : imageShow(URL.createObjectURL(item), theme)}\r\n            <span onClick={() => handleDeleteMedia(index)}>&times;</span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <form className=\"chat_input\" onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Enter you message...\"\r\n          value={text}\r\n          onChange={(e) => setText(e.target.value)}\r\n          style={{\r\n            filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n            background: theme ? \"#040404\" : \"\",\r\n            color: theme ? \"white\" : \"\",\r\n          }}\r\n        />\r\n\r\n        <Icons setContent={setText} content={text} theme={theme} />\r\n\r\n        <div className=\"file_upload\">\r\n          <i className=\"fas fa-image text-danger\" />\r\n          <input\r\n            type=\"file\"\r\n            name=\"file\"\r\n            id=\"file\"\r\n            multiple\r\n            accept=\"image/*,video/*\"\r\n            onChange={handleChangeMedia}\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"material-icons\"\r\n          disabled={text || media.length > 0 ? false : true}\r\n        >\r\n          near_me\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RightSide;\r\n","import React from \"react\";\r\nimport LeftSide from \"../../components/message/LeftSide\";\r\nimport RightSide from \"../../components/message/RightSide\";\r\n\r\nconst Conversation = () => {\r\n  return (\r\n    <div className=\"message d-flex\">\r\n      <div className=\"col-md-4 border-right px-0 left_mess\">\r\n        <LeftSide />\r\n      </div>\r\n\r\n      <div className=\"col-md-8 px-0\">\r\n        <RightSide />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Conversation;\r\n","var map = {\n\t\"./discover\": 74,\n\t\"./discover.js\": 74,\n\t\"./home\": 61,\n\t\"./home.js\": 61,\n\t\"./login\": 59,\n\t\"./login.js\": 59,\n\t\"./message\": 54,\n\t\"./message/\": 54,\n\t\"./message/[id]\": 100,\n\t\"./message/[id].js\": 100,\n\t\"./message/index\": 54,\n\t\"./message/index.js\": 54,\n\t\"./post/[id]\": 84,\n\t\"./post/[id].js\": 84,\n\t\"./profile/[id]\": 99,\n\t\"./profile/[id].js\": 99,\n\t\"./register\": 60,\n\t\"./register.js\": 60\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 118;","import { GLOBALTYPES } from \"./globalTypes\";\r\nimport {\r\n  postDataAPI,\r\n  deleteDataAPI,\r\n  getDataAPI,\r\n  patchDataAPI,\r\n} from \"../../utils/fetchData\";\r\n\r\nexport const NOTIFY_TYPES = {\r\n  GET_NOTIFIES: \"GET_NOTIFIES\",\r\n  CREATE_NOTIFY: \"CREATE_NOTIFY\",\r\n  REMOVE_NOTIFY: \"REMOVE_NOTIFY\",\r\n  UPDATE_NOTIFY: \"UPDATE_NOTIFY\",\r\n  UPDATE_SOUND: \"UPDATE_SOUND\",\r\n  DELETE_ALL_NOTIFIES: \"DELETE_ALL_NOTIFIES\",\r\n};\r\n\r\nexport const createNotify =\r\n  ({ msg, auth, socket }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      const res = await postDataAPI(\"notify\", msg, auth.token);\r\n\r\n      socket.emit(\"createNotify\", {\r\n        ...res.data.notify,\r\n        user: {\r\n          username: auth.user.username,\r\n          avatar: auth.user.avatar,\r\n        },\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const removeNotify =\r\n  ({ msg, auth, socket }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      await deleteDataAPI(`notify/${msg.id}?url=${msg.url}`, auth.token);\r\n\r\n      socket.emit(\"removeNotify\", msg);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const getNotifies = (token) => async (dispatch) => {\r\n  try {\r\n    const res = await getDataAPI(\"notifies\", token);\r\n\r\n    dispatch({ type: NOTIFY_TYPES.GET_NOTIFIES, payload: res.data.notifies });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const isReadNotify =\r\n  ({ msg, auth }) =>\r\n  async (dispatch) => {\r\n    dispatch({\r\n      type: NOTIFY_TYPES.UPDATE_NOTIFY,\r\n      payload: { ...msg, isRead: true },\r\n    });\r\n    try {\r\n      await patchDataAPI(`/isReadNotify/${msg._id}`, null, auth.token);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const deleteAllNotifies = (token) => async (dispatch) => {\r\n  dispatch({ type: NOTIFY_TYPES.DELETE_ALL_NOTIFIES, payload: [] });\r\n  try {\r\n    await deleteDataAPI(\"deleteAllNotify\", token);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n","import { GLOBALTYPES, DeleteData } from \"./globalTypes\";\r\nimport { postDataAPI, getDataAPI, deleteDataAPI } from \"../../utils/fetchData\";\r\n\r\nexport const MESS_TYPES = {\r\n  ADD_USER: \"ADD_USER\",\r\n  ADD_MESSAGE: \"ADD_MESSAGE\",\r\n  GET_CONVERSATIONS: \"GET_CONVERSATIONS\",\r\n  GET_MESSAGES: \"GET_MESSAGES\",\r\n  UPDATE_MESSAGES: \"UPDATE_MESSAGES\",\r\n  DELETE_MESSAGES: \"DELETE_MESSAGES\",\r\n  DELETE_CONVERSATION: \"DELETE_CONVERSATION\",\r\n  CHECK_ONLINE_OFFLINE: \"CHECK_ONLINE_OFFLINE\",\r\n};\r\n\r\nexport const addMessage =\r\n  ({ msg, auth, socket }) =>\r\n  async (dispatch) => {\r\n    dispatch({ type: MESS_TYPES.ADD_MESSAGE, payload: msg });\r\n\r\n    const { _id, avatar, fullname, username } = auth.user;\r\n    socket.emit(\"addMessage\", {\r\n      ...msg,\r\n      user: { _id, avatar, fullname, username },\r\n    });\r\n\r\n    try {\r\n      await postDataAPI(\"message\", msg, auth.token);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const getConversations =\r\n  ({ auth, page = 1 }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      const res = await getDataAPI(\r\n        `conversations?limit=${page * 9}`,\r\n        auth.token\r\n      );\r\n\r\n      let newArr = [];\r\n      res.data.conversations.forEach((item) => {\r\n        item.recipients.forEach((cv) => {\r\n          if (cv._id !== auth.user._id) {\r\n            newArr.push({\r\n              ...cv,\r\n              text: item.text,\r\n              media: item.media,\r\n              call: item.call,\r\n            });\r\n          }\r\n        });\r\n      });\r\n\r\n      dispatch({\r\n        type: MESS_TYPES.GET_CONVERSATIONS,\r\n        payload: { newArr, result: res.data.result },\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const getMessages =\r\n  ({ auth, id, page = 1 }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      const res = await getDataAPI(\r\n        `message/${id}?limit=${page * 9}`,\r\n        auth.token\r\n      );\r\n      const newData = { ...res.data, messages: res.data.messages.reverse() };\r\n\r\n      dispatch({\r\n        type: MESS_TYPES.GET_MESSAGES,\r\n        payload: { ...newData, _id: id, page },\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const loadMoreMessages =\r\n  ({ auth, id, page = 1 }) =>\r\n  async (dispatch) => {\r\n    try {\r\n      const res = await getDataAPI(\r\n        `message/${id}?limit=${page * 9}`,\r\n        auth.token\r\n      );\r\n      const newData = { ...res.data, messages: res.data.messages.reverse() };\r\n\r\n      dispatch({\r\n        type: MESS_TYPES.UPDATE_MESSAGES,\r\n        payload: { ...newData, _id: id, page },\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const deleteMessages =\r\n  ({ msg, data, auth }) =>\r\n  async (dispatch) => {\r\n    const newData = DeleteData(data, msg._id);\r\n    dispatch({\r\n      type: MESS_TYPES.DELETE_MESSAGES,\r\n      payload: { newData, _id: msg.recipient },\r\n    });\r\n    try {\r\n      await deleteDataAPI(`message/${msg._id}`, auth.token);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const deleteConversation =\r\n  ({ auth, id }) =>\r\n  async (dispatch) => {\r\n    dispatch({ type: MESS_TYPES.DELETE_CONVERSATION, payload: id });\r\n    try {\r\n      await deleteDataAPI(`conversation/${id}`, auth.token);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n","export default __webpack_public_path__ + \"static/media/loading.10625dac.gif\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 168;","import React from \"react\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div\r\n      className=\"position-relative\"\r\n      style={{ minHeight: \"calc(100vh - 70px)\" }}\r\n    >\r\n      <h2\r\n        className=\"position-absolute text-secondary\"\r\n        style={{ top: \"50%\", left: \"50%\", transform: \"translate(-50%, -50%)\" }}\r\n      >\r\n        404 | Not Found.\r\n      </h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport NotFound from \"../components/NotFound\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst generatePage = (pageName) => {\r\n  const component = () => require(`../pages/${pageName}`).default;\r\n\r\n  try {\r\n    return React.createElement(component());\r\n  } catch (err) {\r\n    return <NotFound />;\r\n  }\r\n};\r\n\r\nconst PageRender = () => {\r\n  const { page, id } = useParams();\r\n  const { auth } = useSelector((state) => state);\r\n\r\n  let pageName = \"\";\r\n\r\n  if (auth.token) {\r\n    if (id) {\r\n      pageName = `${page}/[id]`;\r\n    } else {\r\n      pageName = `${page}`;\r\n    }\r\n  }\r\n\r\n  return generatePage(pageName);\r\n};\r\n\r\nexport default PageRender;\r\n","import { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst PrivateRouter = (props) => {\r\n  const firstLogin = localStorage.getItem(\"firstLogin\");\r\n  return firstLogin ? <Route {...props} /> : <Redirect to=\"/\" />;\r\n};\r\n\r\nexport default PrivateRouter;\r\n","import React from \"react\";\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div\r\n      className=\"position-fixed w-100 h-100 text-center loading\"\r\n      style={{\r\n        background: \"#0008\",\r\n        color: \"white\",\r\n        top: 0,\r\n        left: 0,\r\n        zIndex: 50,\r\n      }}\r\n    >\r\n      <svg width=\"205\" height=\"250\" viewBox=\"0 0 40 50\">\r\n        <polygon\r\n          stroke=\"#fff\"\r\n          strokeWidth=\"1\"\r\n          fill=\"none\"\r\n          points=\"20,1 40,40 1,40\"\r\n        />\r\n        <text fill=\"#fff\" x=\"5\" y=\"47\">\r\n          Loading\r\n        </text>\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React from \"react\";\r\n\r\nconst Toast = ({ msg, handleShow, bgColor }) => {\r\n  return (\r\n    <div\r\n      className={`toast show position-fixed text-light ${bgColor}`}\r\n      style={{ top: \"5px\", right: \"5px\", minWidth: \"200px\", zIndex: 50 }}\r\n    >\r\n      <div className={`toast-header text-light ${bgColor}`}>\r\n        <strong className=\"mr-auto text-light\">{msg.title}</strong>\r\n        <button\r\n          className=\"ml-2 mb-1 close text-light\"\r\n          data-dismiss=\"toast\"\r\n          style={{ outline: \"none\" }}\r\n          onClick={handleShow}\r\n        >\r\n          &times;\r\n        </button>\r\n      </div>\r\n      <div className=\"toast-body\">{msg.body}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toast;\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\n\r\nimport Loading from \"./Loading\";\r\nimport Toast from \"./Toast\";\r\n\r\nconst Notify = () => {\r\n  const { alert } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const handleShow = () => dispatch({ type: GLOBALTYPES.ALERT, payload: {} });\r\n\r\n  return (\r\n    <div>\r\n      {alert.loading && <Loading />}\r\n\r\n      {alert.error && (\r\n        <Toast\r\n          msg={{ title: \"Error\", body: alert.error }}\r\n          handleShow={handleShow}\r\n          bgColor=\"bg-danger\"\r\n        />\r\n      )}\r\n\r\n      {alert.success && (\r\n        <Toast\r\n          msg={{ title: \"Success\", body: alert.success }}\r\n          handleShow={handleShow}\r\n          bgColor=\"bg-success\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notify;\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport NoNotice from \"../images/notice.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"./Avatar\";\r\nimport moment from \"moment\";\r\nimport {\r\n  isReadNotify,\r\n  NOTIFY_TYPES,\r\n  deleteAllNotifies,\r\n} from \"../redux/actions/notifyAction\";\r\n\r\nconst NotifyModal = () => {\r\n  const { auth, notify } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleIsRead = (msg) => {\r\n    dispatch(isReadNotify({ msg, auth }));\r\n  };\r\n\r\n  const handleSound = () => {\r\n    dispatch({ type: NOTIFY_TYPES.UPDATE_SOUND, payload: !notify.sound });\r\n  };\r\n\r\n  const handleDeleteAll = () => {\r\n    const newArr = notify.data.filter((item) => item.isRead === false);\r\n    if (newArr.length === 0) return dispatch(deleteAllNotifies(auth.token));\r\n\r\n    if (\r\n      window.confirm(\r\n        `You have ${newArr.length} unread notices. Are you sure you want to delete all?`\r\n      )\r\n    ) {\r\n      return dispatch(deleteAllNotifies(auth.token));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ minWidth: \"300px\" }}>\r\n      <div className=\"d-flex justify-content-between align-items-center px-3\">\r\n        <h3>Notification</h3>\r\n        {notify.sound ? (\r\n          <i\r\n            className=\"fas fa-bell text-danger\"\r\n            style={{ fontSize: \"1.2rem\", cursor: \"pointer\" }}\r\n            onClick={handleSound}\r\n          />\r\n        ) : (\r\n          <i\r\n            className=\"fas fa-bell-slash text-danger\"\r\n            style={{ fontSize: \"1.2rem\", cursor: \"pointer\" }}\r\n            onClick={handleSound}\r\n          />\r\n        )}\r\n      </div>\r\n      <hr className=\"mt-0\" />\r\n\r\n      {notify.data.length === 0 && (\r\n        <img src={NoNotice} alt=\"NoNotice\" className=\"w-100\" />\r\n      )}\r\n\r\n      <div style={{ maxHeight: \"calc(100vh - 200px)\", overflow: \"auto\" }}>\r\n        {notify.data.map((msg, index) => (\r\n          <div key={index} className=\"px-2 mb-3\">\r\n            <Link\r\n              to={`${msg.url}`}\r\n              className=\"d-flex text-dark align-items-center\"\r\n              onClick={() => handleIsRead(msg)}\r\n            >\r\n              <Avatar src={msg.user.avatar} size=\"big-avatar\" />\r\n\r\n              <div className=\"mx-1 flex-fill\">\r\n                <div>\r\n                  <strong className=\"mr-1\">{msg.user.username}</strong>\r\n                  <span>{msg.text}</span>\r\n                </div>\r\n                {msg.content && <small>{msg.content.slice(0, 20)}...</small>}\r\n              </div>\r\n\r\n              {msg.image && (\r\n                <div style={{ width: \"30px\" }}>\r\n                  {msg.image.match(/video/i) ? (\r\n                    <video src={msg.image} width=\"100%\" />\r\n                  ) : (\r\n                    <Avatar src={msg.image} size=\"medium-avatar\" />\r\n                  )}\r\n                </div>\r\n              )}\r\n            </Link>\r\n            <small className=\"text-muted d-flex justify-content-between px-2\">\r\n              {moment(msg.createdAt).fromNow()}\r\n              {!msg.isRead && <i className=\"fas fa-circle text-primary\" />}\r\n            </small>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <hr className=\"my-1\" />\r\n      <div\r\n        className=\"text-right text-danger mr-2\"\r\n        style={{ cursor: \"pointer\" }}\r\n        onClick={handleDeleteAll}\r\n      >\r\n        Delete All\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotifyModal;\r\n","export default \"data:image/png;base64,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\"","import React from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { logout } from \"../../redux/actions/authAction\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport Avatar from \"../Avatar\";\r\nimport NotifyModal from \"../NotifyModal\";\r\n\r\nconst Menu = () => {\r\n  const navLinks = [\r\n    { label: \"Home\", icon: \"home\", path: \"/\" },\r\n    { label: \"Message\", icon: \"near_me\", path: \"/message\" },\r\n    { label: \"Discover\", icon: \"explore\", path: \"/discover\" },\r\n  ];\r\n\r\n  const { auth, theme, notify } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const { pathname } = useLocation();\r\n\r\n  const isActive = (pn) => {\r\n    if (pn === pathname) return \"active\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu\">\r\n      <ul className=\"navbar-nav flex-row\">\r\n        {navLinks.map((link, index) => (\r\n          <li className={`nav-item px-2 ${isActive(link.path)}`} key={index}>\r\n            <Link className=\"nav-link\" to={link.path}>\r\n              <span className=\"material-icons\">{link.icon}</span>\r\n            </Link>\r\n          </li>\r\n        ))}\r\n\r\n        <li className=\"nav-item dropdown\" style={{ opacity: 1 }}>\r\n          <span\r\n            className=\"nav-link position-relative\"\r\n            id=\"navbarDropdown\"\r\n            role=\"button\"\r\n            data-toggle=\"dropdown\"\r\n            aria-haspopup=\"true\"\r\n            aria-expanded=\"false\"\r\n          >\r\n            <span\r\n              className=\"material-icons\"\r\n              style={{ color: notify.data.length > 0 ? \"crimson\" : \"\" }}\r\n            >\r\n              favorite\r\n            </span>\r\n\r\n            <span className=\"notify_length\">{notify.data.length}</span>\r\n          </span>\r\n\r\n          <div\r\n            className=\"dropdown-menu\"\r\n            aria-labelledby=\"navbarDropdown\"\r\n            style={{ transform: \"translateX(75px)\" }}\r\n          >\r\n            <NotifyModal />\r\n          </div>\r\n        </li>\r\n\r\n        <li className=\"nav-item dropdown\" style={{ opacity: 1 }}>\r\n          <span\r\n            className=\"nav-link dropdown-toggle\"\r\n            id=\"navbarDropdown\"\r\n            role=\"button\"\r\n            data-toggle=\"dropdown\"\r\n            aria-haspopup=\"true\"\r\n            aria-expanded=\"false\"\r\n          >\r\n            <Avatar src={auth.user.avatar} size=\"medium-avatar\" />\r\n          </span>\r\n\r\n          <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n            <Link className=\"dropdown-item\" to={`/profile/${auth.user._id}`}>\r\n              Profile\r\n            </Link>\r\n\r\n            <label\r\n              htmlFor=\"theme\"\r\n              className=\"dropdown-item\"\r\n              onClick={() =>\r\n                dispatch({\r\n                  type: GLOBALTYPES.THEME,\r\n                  payload: !theme,\r\n                })\r\n              }\r\n            >\r\n              {theme ? \"Light mode\" : \"Dark mode\"}\r\n            </label>\r\n\r\n            <div className=\"dropdown-divider\"></div>\r\n            <Link\r\n              className=\"dropdown-item\"\r\n              to=\"/\"\r\n              onClick={() => dispatch(logout())}\r\n            >\r\n              Logout\r\n            </Link>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport UserCard from \"../UserCard\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\n\r\nconst Search = () => {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [users, setUsers] = useState([]);\r\n\r\n  const { auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const [load, setLoad] = useState(false);\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    if (!search) return;\r\n    getDataAPI(`search?username=${search}`, auth.token)\r\n      .then((res) => {\r\n        setUsers(res.data.users);\r\n        setLoad(false);\r\n      })\r\n      .catch((err) =>\r\n        dispatch({\r\n          type: GLOBALTYPES.ALERT,\r\n          payload: { error: err.response.data.msg },\r\n        })\r\n      );\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setSearch(\"\");\r\n    setUsers([]);\r\n  };\r\n\r\n  return (\r\n    <form className=\"search_form\" onSubmit={handleSearch}>\r\n      <input\r\n        type=\"text\"\r\n        name=\"search\"\r\n        value={search}\r\n        id=\"search\"\r\n        title=\"Enter to Search\"\r\n        onChange={(e) =>\r\n          setSearch(e.target.value.toLowerCase().replace(/ /g, \"\"))\r\n        }\r\n      />\r\n\r\n      <div className=\"search_icon\" style={{ opacity: search ? 0 : 0.3 }}>\r\n        <span className=\"material-icons\">search</span>\r\n        <span>Enter to Search</span>\r\n      </div>\r\n\r\n      <div\r\n        className=\"close_search\"\r\n        onClick={handleClose}\r\n        style={{ opacity: users.length === 0 ? 0 : 1 }}\r\n      >\r\n        &times;\r\n      </div>\r\n        \r\n      {load && <img className=\"loading\" src={LoadIcon} alt=\"loading\" />}\r\n\r\n      <div className=\"users\">\r\n        {search &&\r\n          users.map((user) => (\r\n            <UserCard\r\n              key={user._id}\r\n              user={user}\r\n              border=\"border\"\r\n              handleClose={handleClose}\r\n            />\r\n          ))}\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Menu from \"./Menu\";\r\nimport Search from \"./Search\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className=\"header bg-light\">\r\n      <nav\r\n        className=\"navbar navbar-expand-lg navbar-light \r\n            bg-light justify-content-between align-middle\"\r\n      >\r\n        <Link to=\"/\" className=\"logo\">\r\n          <h1\r\n            className=\"navbar-brand text-uppercase p-0 m-0\"\r\n            onClick={() => window.scrollTo({ top: 0 })}\r\n          >\r\n            socialize\r\n          </h1>\r\n        </Link>\r\n\r\n        <Search />\r\n\r\n        <Menu />\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { GLOBALTYPES } from \"../redux/actions/globalTypes\";\r\nimport { createPost, updatePost } from \"../redux/actions/postAction\";\r\nimport Icons from \"./Icons\";\r\nimport { imageShow, videoShow } from \"../utils/mediaShow\";\r\n\r\nconst StatusModal = () => {\r\n  const { auth, theme, status, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [content, setContent] = useState(\"\");\r\n  const [images, setImages] = useState([]);\r\n\r\n  const [stream, setStream] = useState(false);\r\n  const videoRef = useRef();\r\n  const refCanvas = useRef();\r\n  const [tracks, setTracks] = useState(\"\");\r\n\r\n  const handleChangeImages = (e) => {\r\n    const files = [...e.target.files];\r\n    let err = \"\";\r\n    let newImages = [];\r\n\r\n    files.forEach((file) => {\r\n      if (!file) return (err = \"File does not exist.\");\r\n\r\n      if (file.size > 1024 * 1024 * 5) {\r\n        return (err = \"The image/video largest is 5mb.\");\r\n      }\r\n\r\n      return newImages.push(file);\r\n    });\r\n\r\n    if (err) dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\r\n    setImages([...images, ...newImages]);\r\n  };\r\n\r\n  const deleteImages = (index) => {\r\n    const newArr = [...images];\r\n    newArr.splice(index, 1);\r\n    setImages(newArr);\r\n  };\r\n\r\n  const handleStream = () => {\r\n    setStream(true);\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n      navigator.mediaDevices\r\n        .getUserMedia({ video: true })\r\n        .then((mediaStream) => {\r\n          videoRef.current.srcObject = mediaStream;\r\n          videoRef.current.play();\r\n\r\n          const track = mediaStream.getTracks();\r\n          setTracks(track[0]);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  const handleCapture = () => {\r\n    const width = videoRef.current.clientWidth;\r\n    const height = videoRef.current.clientHeight;\r\n\r\n    refCanvas.current.setAttribute(\"width\", width);\r\n    refCanvas.current.setAttribute(\"height\", height);\r\n\r\n    const ctx = refCanvas.current.getContext(\"2d\");\r\n    ctx.drawImage(videoRef.current, 0, 0, width, height);\r\n    let URL = refCanvas.current.toDataURL();\r\n    setImages([...images, { camera: URL }]);\r\n  };\r\n\r\n  const handleStopStream = () => {\r\n    tracks.stop();\r\n    setStream(false);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (images.length === 0)\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: \"Please add your photo.\" },\r\n      });\r\n\r\n    if (status.onEdit) {\r\n      dispatch(updatePost({ content, images, auth, status }));\r\n    } else {\r\n      dispatch(createPost({ content, images, auth, socket }));\r\n    }\r\n\r\n    setContent(\"\");\r\n    setImages([]);\r\n    if (tracks) tracks.stop();\r\n    dispatch({ type: GLOBALTYPES.STATUS, payload: false });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (status.onEdit) {\r\n      setContent(status.content);\r\n      setImages(status.images);\r\n    }\r\n  }, [status]);\r\n\r\n  return (\r\n    <div className=\"status_modal\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"status_header\">\r\n          <h5 className=\"m-0\">Create Post</h5>\r\n          <span\r\n            onClick={() =>\r\n              dispatch({\r\n                type: GLOBALTYPES.STATUS,\r\n                payload: false,\r\n              })\r\n            }\r\n          >\r\n            &times;\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"status_body\">\r\n          <textarea\r\n            name=\"content\"\r\n            value={content}\r\n            placeholder={`${auth.user.username}, what are you thinking?`}\r\n            onChange={(e) => setContent(e.target.value)}\r\n            style={{\r\n              filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n              color: theme ? \"white\" : \"#111\",\r\n              background: theme ? \"rgba(0,0,0,.03)\" : \"\",\r\n            }}\r\n          />\r\n\r\n          <div className=\"d-flex\">\r\n            <div className=\"flex-fill\"></div>\r\n            <Icons setContent={setContent} content={content} theme={theme} />\r\n          </div>\r\n\r\n          <div className=\"show_images\">\r\n            {images.map((img, index) => (\r\n              <div key={index} id=\"file_img\">\r\n                {img.camera ? (\r\n                  imageShow(img.camera, theme)\r\n                ) : img.url ? (\r\n                  <>\r\n                    {img.url.match(/video/i)\r\n                      ? videoShow(img.url, theme)\r\n                      : imageShow(img.url, theme)}\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    {img.type.match(/video/i)\r\n                      ? videoShow(URL.createObjectURL(img), theme)\r\n                      : imageShow(URL.createObjectURL(img), theme)}\r\n                  </>\r\n                )}\r\n                <span onClick={() => deleteImages(index)}>&times;</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {stream && (\r\n            <div className=\"stream position-relative\">\r\n              <video\r\n                autoPlay\r\n                muted\r\n                ref={videoRef}\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n              />\r\n\r\n              <span onClick={handleStopStream}>&times;</span>\r\n              <canvas ref={refCanvas} style={{ display: \"none\" }} />\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"input_images\">\r\n            {stream ? (\r\n              <i className=\"fas fa-camera\" onClick={handleCapture} />\r\n            ) : (\r\n              <>\r\n                <i className=\"fas fa-camera\" onClick={handleStream} />\r\n\r\n                <div className=\"file_upload\">\r\n                  <i className=\"fas fa-image\" />\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"file\"\r\n                    id=\"file\"\r\n                    multiple\r\n                    accept=\"image/*,video/*\"\r\n                    onChange={handleChangeImages}\r\n                  />\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"status_footer\">\r\n          <button className=\"btn btn-secondary w-100\" type=\"submit\">\r\n            Post\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatusModal;\r\n","export default __webpack_public_path__ + \"static/media/got-it-done-613.89a311f0.mp3\";","import React, { useEffect, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { POST_TYPES } from \"./redux/actions/postAction\";\r\nimport { GLOBALTYPES } from \"./redux/actions/globalTypes\";\r\nimport { NOTIFY_TYPES } from \"./redux/actions/notifyAction\";\r\nimport { MESS_TYPES } from \"./redux/actions/messageAction\";\r\n\r\nimport audiobell from \"./audio/got-it-done-613.mp3\";\r\n\r\nconst spawnNotification = (body, icon, url, title) => {\r\n  let options = {\r\n    body,\r\n    icon,\r\n  };\r\n  let n = new Notification(title, options);\r\n\r\n  n.onclick = (e) => {\r\n    e.preventDefault();\r\n    window.open(url, \"_blank\");\r\n  };\r\n};\r\n\r\nconst SocketClient = () => {\r\n  const { auth, socket, notify, online, call } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const audioRef = useRef();\r\n\r\n  // joinUser\r\n  useEffect(() => {\r\n    socket.emit(\"joinUser\", auth.user);\r\n  }, [socket, auth.user]);\r\n\r\n  // Likes\r\n  useEffect(() => {\r\n    socket.on(\"likeToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n\r\n    return () => socket.off(\"likeToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"unLikeToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n\r\n    return () => socket.off(\"unLikeToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  // Comments\r\n  useEffect(() => {\r\n    socket.on(\"createCommentToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n\r\n    return () => socket.off(\"createCommentToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"deleteCommentToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n\r\n    return () => socket.off(\"deleteCommentToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  // Follow\r\n  useEffect(() => {\r\n    socket.on(\"followToClient\", (newUser) => {\r\n      dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n    });\r\n\r\n    return () => socket.off(\"followToClient\");\r\n  }, [socket, dispatch, auth]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"unFollowToClient\", (newUser) => {\r\n      dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n    });\r\n\r\n    return () => socket.off(\"unFollowToClient\");\r\n  }, [socket, dispatch, auth]);\r\n\r\n  // Notification\r\n  useEffect(() => {\r\n    socket.on(\"createNotifyToClient\", (msg) => {\r\n      dispatch({ type: NOTIFY_TYPES.CREATE_NOTIFY, payload: msg });\r\n\r\n      if (notify.sound) audioRef.current.play();\r\n      spawnNotification(\r\n        msg.user.username + \" \" + msg.text,\r\n        msg.user.avatar,\r\n        msg.url,\r\n        \"social-network\"\r\n      );\r\n    });\r\n\r\n    return () => socket.off(\"createNotifyToClient\");\r\n  }, [socket, dispatch, notify.sound]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"removeNotifyToClient\", (msg) => {\r\n      dispatch({ type: NOTIFY_TYPES.REMOVE_NOTIFY, payload: msg });\r\n    });\r\n\r\n    return () => socket.off(\"removeNotifyToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  // Message\r\n  useEffect(() => {\r\n    socket.on(\"addMessageToClient\", (msg) => {\r\n      dispatch({ type: MESS_TYPES.ADD_MESSAGE, payload: msg });\r\n\r\n      dispatch({\r\n        type: MESS_TYPES.ADD_USER,\r\n        payload: {\r\n          ...msg.user,\r\n          text: msg.text,\r\n          media: msg.media,\r\n        },\r\n      });\r\n    });\r\n\r\n    return () => socket.off(\"addMessageToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  // Check User Online / Offline\r\n  useEffect(() => {\r\n    socket.emit(\"checkUserOnline\", auth.user);\r\n  }, [socket, auth.user]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"checkUserOnlineToMe\", (data) => {\r\n      data.forEach((item) => {\r\n        if (!online.includes(item.id)) {\r\n          dispatch({ type: GLOBALTYPES.ONLINE, payload: item.id });\r\n        }\r\n      });\r\n    });\r\n\r\n    return () => socket.off(\"checkUserOnlineToMe\");\r\n  }, [socket, dispatch, online]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"checkUserOnlineToClient\", (id) => {\r\n      if (!online.includes(id)) {\r\n        dispatch({ type: GLOBALTYPES.ONLINE, payload: id });\r\n      }\r\n    });\r\n\r\n    return () => socket.off(\"checkUserOnlineToClient\");\r\n  }, [socket, dispatch, online]);\r\n\r\n  // Check User Offline\r\n  useEffect(() => {\r\n    socket.on(\"CheckUserOffline\", (id) => {\r\n      dispatch({ type: GLOBALTYPES.OFFLINE, payload: id });\r\n    });\r\n\r\n    return () => socket.off(\"CheckUserOffline\");\r\n  }, [socket, dispatch]);\r\n\r\n  // Call User\r\n  useEffect(() => {\r\n    socket.on(\"callUserToClient\", (data) => {\r\n      dispatch({ type: GLOBALTYPES.CALL, payload: data });\r\n    });\r\n\r\n    return () => socket.off(\"callUserToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"userBusy\", (data) => {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: `${call.username} is busy!` },\r\n      });\r\n    });\r\n\r\n    return () => socket.off(\"userBusy\");\r\n  }, [socket, dispatch, call]);\r\n\r\n  return (\r\n    <>\r\n      <audio controls ref={audioRef} style={{ display: \"none\" }}>\r\n        <source src={audiobell} type=\"audio/mp3\" />\r\n      </audio>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SocketClient;\r\n","export default __webpack_public_path__ + \"static/media/ringring.278d7816.mp3\";","import React, { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Avatar from \"../Avatar\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport { addMessage } from \"../../redux/actions/messageAction\";\r\nimport RingRing from \"../../audio/ringring.mp3\";\r\n\r\nconst CallModal = () => {\r\n  const { call, auth, peer, socket, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [hours, setHours] = useState(0);\r\n  const [mins, setMins] = useState(0);\r\n  const [second, setSecond] = useState(0);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  const [answer, setAnswer] = useState(false);\r\n  const youVideo = useRef();\r\n  const otherVideo = useRef();\r\n  const [tracks, setTracks] = useState(null);\r\n  const [newCall, setNewCall] = useState(null);\r\n\r\n  // Set Time\r\n  useEffect(() => {\r\n    const setTime = () => {\r\n      setTotal((t) => t + 1);\r\n      setTimeout(setTime, 1000);\r\n    };\r\n    setTime();\r\n\r\n    return () => setTotal(0);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setSecond(total % 60);\r\n    setMins(parseInt(total / 60));\r\n    setHours(parseInt(total / 3600));\r\n  }, [total]);\r\n\r\n  // End Call\r\n  const addCallMessage = useCallback(\r\n    (call, times, disconnect) => {\r\n      if (call.recipient !== auth.user._id || disconnect) {\r\n        const msg = {\r\n          sender: call.sender,\r\n          recipient: call.recipient,\r\n          text: \"\",\r\n          media: [],\r\n          call: { video: call.video, times },\r\n          createdAt: new Date().toISOString(),\r\n        };\r\n        dispatch(addMessage({ msg, auth, socket }));\r\n      }\r\n    },\r\n    [auth, dispatch, socket]\r\n  );\r\n\r\n  const handleEndCall = () => {\r\n    tracks && tracks.forEach((track) => track.stop());\r\n    if (newCall) newCall.close();\r\n    let times = answer ? total : 0;\r\n    socket.emit(\"endCall\", { ...call, times });\r\n\r\n    addCallMessage(call, times);\r\n    dispatch({ type: GLOBALTYPES.CALL, payload: null });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (answer) {\r\n      setTotal(0);\r\n    } else {\r\n      const timer = setTimeout(() => {\r\n        socket.emit(\"endCall\", { ...call, times: 0 });\r\n        addCallMessage(call, 0);\r\n        dispatch({ type: GLOBALTYPES.CALL, payload: null });\r\n      }, 15000);\r\n\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [dispatch, answer, call, socket, addCallMessage]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"endCallToClient\", (data) => {\r\n      tracks && tracks.forEach((track) => track.stop());\r\n      if (newCall) newCall.close();\r\n      addCallMessage(data, data.times);\r\n      dispatch({ type: GLOBALTYPES.CALL, payload: null });\r\n    });\r\n\r\n    return () => socket.off(\"endCallToClient\");\r\n  }, [socket, dispatch, tracks, addCallMessage, newCall]);\r\n\r\n  // Stream Media\r\n  const openStream = (video) => {\r\n    const config = { audio: true, video };\r\n    return navigator.mediaDevices.getUserMedia(config);\r\n  };\r\n\r\n  const playStream = (tag, stream) => {\r\n    let video = tag;\r\n    video.srcObject = stream;\r\n    video.play();\r\n  };\r\n\r\n  // Answer Call\r\n  const handleAnswer = () => {\r\n    openStream(call.video).then((stream) => {\r\n      playStream(youVideo.current, stream);\r\n      const track = stream.getTracks();\r\n      setTracks(track);\r\n\r\n      const newCall = peer.call(call.peerId, stream);\r\n      newCall.on(\"stream\", function (remoteStream) {\r\n        playStream(otherVideo.current, remoteStream);\r\n      });\r\n      setAnswer(true);\r\n      setNewCall(newCall);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    peer.on(\"call\", (newCall) => {\r\n      openStream(call.video).then((stream) => {\r\n        if (youVideo.current) {\r\n          playStream(youVideo.current, stream);\r\n        }\r\n        const track = stream.getTracks();\r\n        setTracks(track);\r\n\r\n        newCall.answer(stream);\r\n        newCall.on(\"stream\", function (remoteStream) {\r\n          if (otherVideo.current) {\r\n            playStream(otherVideo.current, remoteStream);\r\n          }\r\n        });\r\n        setAnswer(true);\r\n        setNewCall(newCall);\r\n      });\r\n    });\r\n    return () => peer.removeListener(\"call\");\r\n  }, [peer, call.video]);\r\n\r\n  // Disconnect\r\n  useEffect(() => {\r\n    socket.on(\"callerDisconnect\", () => {\r\n      tracks && tracks.forEach((track) => track.stop());\r\n      if (newCall) newCall.close();\r\n      let times = answer ? total : 0;\r\n      addCallMessage(call, times, true);\r\n\r\n      dispatch({ type: GLOBALTYPES.CALL, payload: null });\r\n\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: `The ${call.username} disconnect` },\r\n      });\r\n    });\r\n\r\n    return () => socket.off(\"callerDisconnect\");\r\n  }, [socket, tracks, dispatch, call, addCallMessage, answer, total, newCall]);\r\n\r\n  // Play - Pause Audio\r\n  const playAudio = (newAudio) => {\r\n    newAudio.play();\r\n  };\r\n\r\n  const pauseAudio = (newAudio) => {\r\n    newAudio.pause();\r\n    newAudio.currentTime = 0;\r\n  };\r\n\r\n  useEffect(() => {\r\n    let newAudio = new Audio(RingRing);\r\n    if (answer) {\r\n      pauseAudio(newAudio);\r\n    } else {\r\n      playAudio(newAudio);\r\n    }\r\n\r\n    return () => pauseAudio(newAudio);\r\n  }, [answer]);\r\n\r\n  return (\r\n    <div className=\"call_modal\">\r\n      <div\r\n        className=\"call_box\"\r\n        style={{\r\n          display: answer && call.video ? \"none\" : \"flex\",\r\n        }}\r\n      >\r\n        <div className=\"text-center\" style={{ padding: \"40px 0\" }}>\r\n          <Avatar src={call.avatar} size=\"supper-avatar\" />\r\n          <h4>{call.username}</h4>\r\n          <h6>{call.fullname}</h6>\r\n\r\n          {answer ? (\r\n            <div>\r\n              <span>{hours.toString().length < 2 ? \"0\" + hours : hours}</span>\r\n              <span>:</span>\r\n              <span>{mins.toString().length < 2 ? \"0\" + mins : mins}</span>\r\n              <span>:</span>\r\n              <span>\r\n                {second.toString().length < 2 ? \"0\" + second : second}\r\n              </span>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              {call.video ? (\r\n                <span>calling video...</span>\r\n              ) : (\r\n                <span>calling audio...</span>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {!answer && (\r\n          <div className=\"timer\">\r\n            <small>{mins.toString().length < 2 ? \"0\" + mins : mins}</small>\r\n            <small>:</small>\r\n            <small>\r\n              {second.toString().length < 2 ? \"0\" + second : second}\r\n            </small>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"call_menu\">\r\n          <button\r\n            className=\"material-icons text-danger\"\r\n            onClick={handleEndCall}\r\n          >\r\n            call_end\r\n          </button>\r\n\r\n          {call.recipient === auth.user._id && !answer && (\r\n            <>\r\n              {call.video ? (\r\n                <button\r\n                  className=\"material-icons text-success\"\r\n                  onClick={handleAnswer}\r\n                >\r\n                  videocam\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  className=\"material-icons text-success\"\r\n                  onClick={handleAnswer}\r\n                >\r\n                  call\r\n                </button>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className=\"show_video\"\r\n        style={{\r\n          opacity: answer && call.video ? \"1\" : \"0\",\r\n          filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n        }}\r\n      >\r\n        <video ref={youVideo} className=\"you_video\" playsInline muted />\r\n        <video ref={otherVideo} className=\"other_video\" playsInline />\r\n\r\n        <div className=\"time_video\">\r\n          <span>{hours.toString().length < 2 ? \"0\" + hours : hours}</span>\r\n          <span>:</span>\r\n          <span>{mins.toString().length < 2 ? \"0\" + mins : mins}</span>\r\n          <span>:</span>\r\n          <span>{second.toString().length < 2 ? \"0\" + second : second}</span>\r\n        </div>\r\n\r\n        <button\r\n          className=\"material-icons text-danger end_call\"\r\n          onClick={handleEndCall}\r\n        >\r\n          call_end\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CallModal;\r\n","import { useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\n\r\nimport PageRender from \"./customRouter/PageRender\";\r\nimport PrivateRouter from \"./customRouter/PrivateRouter\";\r\n\r\nimport Home from \"./pages/home\";\r\nimport Login from \"./pages/login\";\r\nimport Register from \"./pages/register\";\r\n\r\nimport Alert from \"./components/alert/Alert\";\r\nimport Header from \"./components/header/Header\";\r\nimport StatusModal from \"./components/StatusModal\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { refreshToken } from \"./redux/actions/authAction\";\r\nimport { getPosts } from \"./redux/actions/postAction\";\r\nimport { getSuggestions } from \"./redux/actions/suggestionsAction\";\r\n\r\nimport io from \"socket.io-client\";\r\nimport { GLOBALTYPES } from \"./redux/actions/globalTypes\";\r\nimport SocketClient from \"./SocketClient\";\r\n\r\nimport { getNotifies } from \"./redux/actions/notifyAction\";\r\nimport CallModal from \"./components/message/CallModal\";\r\nimport Peer from \"peerjs\";\r\n\r\nfunction App() {\r\n  const { auth, status, modal, call } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(refreshToken());\r\n\r\n    const socket = io();\r\n    dispatch({ type: GLOBALTYPES.SOCKET, payload: socket });\r\n    return () => socket.close();\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (auth.token) {\r\n      dispatch(getPosts(auth.token));\r\n      dispatch(getSuggestions(auth.token));\r\n      dispatch(getNotifies(auth.token));\r\n    }\r\n  }, [dispatch, auth.token]);\r\n\r\n  useEffect(() => {\r\n    if (!(\"Notification\" in window)) {\r\n      alert(\"This browser does not support desktop notification\");\r\n    } else if (Notification.permission === \"granted\") {\r\n    } else if (Notification.permission !== \"denied\") {\r\n      Notification.requestPermission().then(function (permission) {\r\n        if (permission === \"granted\") {\r\n        }\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const newPeer = new Peer(undefined, {\r\n      path: \"/\",\r\n      secure: true,\r\n    });\r\n\r\n    dispatch({ type: GLOBALTYPES.PEER, payload: newPeer });\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Router>\r\n      <Alert />\r\n\r\n      <input type=\"checkbox\" id=\"theme\" />\r\n      <div className={`App ${(status || modal) && \"mode\"}`}>\r\n        <div className=\"main\">\r\n          {auth.token && <Header />}\r\n          {status && <StatusModal />}\r\n          {auth.token && <SocketClient />}\r\n          {call && <CallModal />}\r\n\r\n          <Route exact path=\"/\" component={auth.token ? Home : Login} />\r\n          <Route exact path=\"/register\" component={Register} />\r\n\r\n          <PrivateRouter exact path=\"/:page\" component={PageRender} />\r\n          <PrivateRouter exact path=\"/:page/:id\" component={PageRender} />\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.AUTH:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {};\r\n\r\nconst alertReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.ALERT:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default alertReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst initialState = false;\r\n\r\nconst themeReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.THEME:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default themeReducer;\r\n","import { PROFILE_TYPES } from \"../actions/profileAction\";\r\nimport { EditData } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  ids: [],\r\n  users: [],\r\n  posts: [],\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case PROFILE_TYPES.LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n    case PROFILE_TYPES.GET_USER:\r\n      return {\r\n        ...state,\r\n        users: [...state.users, action.payload.user],\r\n      };\r\n    case PROFILE_TYPES.FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: EditData(state.users, action.payload._id, action.payload),\r\n      };\r\n    case PROFILE_TYPES.UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: EditData(state.users, action.payload._id, action.payload),\r\n      };\r\n    case PROFILE_TYPES.GET_ID:\r\n      return {\r\n        ...state,\r\n        ids: [...state.ids, action.payload],\r\n      };\r\n    case PROFILE_TYPES.GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, action.payload],\r\n      };\r\n    case PROFILE_TYPES.UPDATE_POST:\r\n      return {\r\n        ...state,\r\n        posts: EditData(state.posts, action.payload._id, action.payload),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst statusReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.STATUS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default statusReducer;\r\n","import { POST_TYPES } from \"../actions/postAction\";\r\nimport { EditData, DeleteData } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  posts: [],\r\n  result: 0,\r\n  page: 2,\r\n};\r\n\r\nconst postReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case POST_TYPES.CREATE_POST:\r\n      return {\r\n        ...state,\r\n        posts: [action.payload, ...state.posts],\r\n      };\r\n    case POST_TYPES.LOADING_POST:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n    case POST_TYPES.GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: action.payload.posts,\r\n        result: action.payload.result,\r\n        page: action.payload.page,\r\n      };\r\n    case POST_TYPES.UPDATE_POST:\r\n      return {\r\n        ...state,\r\n        posts: EditData(state.posts, action.payload._id, action.payload),\r\n      };\r\n    case POST_TYPES.DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: DeleteData(state.posts, action.payload._id),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default postReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst initialState = false;\r\n\r\nconst modalReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.MODAL:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default modalReducer;\r\n","import { POST_TYPES } from \"../actions/postAction\";\r\nimport { EditData } from \"../actions/globalTypes\";\r\n\r\nconst detailPostReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case POST_TYPES.GET_POST:\r\n      return [...state, action.payload];\r\n    case POST_TYPES.UPDATE_POST:\r\n      return EditData(state, action.payload._id, action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default detailPostReducer;\r\n","import { DISCOVER_TYPES } from \"../actions/discoverAction\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  posts: [],\r\n  result: 9,\r\n  page: 2,\r\n  firstLoad: false,\r\n};\r\n\r\nconst discoverReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case DISCOVER_TYPES.LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n    case DISCOVER_TYPES.GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: action.payload.posts,\r\n        result: action.payload.result,\r\n        firstLoad: true,\r\n      };\r\n    case DISCOVER_TYPES.UPDATE_POST:\r\n      return {\r\n        ...state,\r\n        posts: action.payload.posts,\r\n        result: action.payload.result,\r\n        page: state.page + 1,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default discoverReducer;\r\n","import { SUGGES_TYPES } from \"../actions/suggestionsAction\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  users: [],\r\n};\r\n\r\nconst suggestionsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SUGGES_TYPES.LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n    case SUGGES_TYPES.GET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.payload.users,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default suggestionsReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst socketReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.SOCKET:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default socketReducer;\r\n","import { NOTIFY_TYPES } from \"../actions/notifyAction\";\r\nimport { EditData } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  sound: false,\r\n};\r\n\r\nconst notifyReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case NOTIFY_TYPES.GET_NOTIFIES:\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n      };\r\n    case NOTIFY_TYPES.CREATE_NOTIFY:\r\n      return {\r\n        ...state,\r\n        data: [action.payload, ...state.data],\r\n      };\r\n    case NOTIFY_TYPES.REMOVE_NOTIFY:\r\n      return {\r\n        ...state,\r\n        data: state.data.filter(\r\n          (item) =>\r\n            item.id !== action.payload.id || item.url !== action.payload.url\r\n        ),\r\n      };\r\n    case NOTIFY_TYPES.UPDATE_NOTIFY:\r\n      return {\r\n        ...state,\r\n        data: EditData(state.data, action.payload._id, action.payload),\r\n      };\r\n    case NOTIFY_TYPES.UPDATE_SOUND:\r\n      return {\r\n        ...state,\r\n        sound: action.payload,\r\n      };\r\n    case NOTIFY_TYPES.DELETE_ALL_NOTIFIES:\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default notifyReducer;\r\n","import { MESS_TYPES } from \"../actions/messageAction\";\r\nimport { EditData, DeleteData } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {\r\n  users: [],\r\n  resultUsers: 0,\r\n  data: [],\r\n  firstLoad: false,\r\n};\r\n\r\nconst messageReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case MESS_TYPES.ADD_USER:\r\n      if (state.users.every((item) => item._id !== action.payload._id)) {\r\n        return {\r\n          ...state,\r\n          users: [action.payload, ...state.users],\r\n        };\r\n      }\r\n      return state;\r\n    case MESS_TYPES.ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        data: state.data.map((item) =>\r\n          item._id === action.payload.recipient ||\r\n          item._id === action.payload.sender\r\n            ? {\r\n                ...item,\r\n                messages: [...item.messages, action.payload],\r\n                result: item.result + 1,\r\n              }\r\n            : item\r\n        ),\r\n        users: state.users.map((user) =>\r\n          user._id === action.payload.recipient ||\r\n          user._id === action.payload.sender\r\n            ? {\r\n                ...user,\r\n                text: action.payload.text,\r\n                media: action.payload.media,\r\n                call: action.payload.call,\r\n              }\r\n            : user\r\n        ),\r\n      };\r\n    case MESS_TYPES.GET_CONVERSATIONS:\r\n      return {\r\n        ...state,\r\n        users: action.payload.newArr,\r\n        resultUsers: action.payload.result,\r\n        firstLoad: true,\r\n      };\r\n    case MESS_TYPES.GET_MESSAGES:\r\n      return {\r\n        ...state,\r\n        data: [...state.data, action.payload],\r\n      };\r\n    case MESS_TYPES.UPDATE_MESSAGES:\r\n      return {\r\n        ...state,\r\n        data: EditData(state.data, action.payload._id, action.payload),\r\n      };\r\n    case MESS_TYPES.DELETE_MESSAGES:\r\n      return {\r\n        ...state,\r\n        data: state.data.map((item) =>\r\n          item._id === action.payload._id\r\n            ? { ...item, messages: action.payload.newData }\r\n            : item\r\n        ),\r\n      };\r\n    case MESS_TYPES.DELETE_CONVERSATION:\r\n      return {\r\n        ...state,\r\n        users: DeleteData(state.users, action.payload),\r\n        data: DeleteData(state.data, action.payload),\r\n      };\r\n    case MESS_TYPES.CHECK_ONLINE_OFFLINE:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) =>\r\n          action.payload.includes(user._id)\r\n            ? { ...user, online: true }\r\n            : { ...user, online: false }\r\n        ),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default messageReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst onlineReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.ONLINE:\r\n      return [...state, action.payload];\r\n    case GLOBALTYPES.OFFLINE:\r\n      return state.filter((item) => item !== action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default onlineReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst callReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.CALL:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default callReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst peerReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.PEER:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default peerReducer;\r\n","import { SCROLL_TYPES } from \"../actions/scrollAction\";\r\n\r\nconst initialState = 0;\r\n\r\nconst scrollReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SCROLL_TYPES.SCROLL:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default scrollReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport auth from \"./authReducer\";\r\nimport alert from \"./alertReducer\";\r\nimport theme from \"./themeReducer\";\r\nimport profile from \"./profileReducer\";\r\nimport status from \"./statusReducer\";\r\nimport homePosts from \"./postReducer\";\r\nimport modal from \"./modalReducer\";\r\nimport detailPost from \"./detailPostReducer\";\r\nimport discover from \"./discoverReducer\";\r\nimport suggestions from \"./suggestionsReducer\";\r\nimport socket from \"./socketReducer\";\r\nimport notify from \"./notifyReducer\";\r\nimport message from \"./messageReducer\";\r\nimport online from \"./onlineReducer\";\r\nimport call from \"./callReducer\";\r\nimport peer from \"./peerReducer\";\r\nimport scroll from \"./scrollReducer\";\r\n\r\nexport default combineReducers({\r\n  auth,\r\n  alert,\r\n  theme,\r\n  profile,\r\n  status,\r\n  homePosts,\r\n  modal,\r\n  detailPost,\r\n  discover,\r\n  suggestions,\r\n  socket,\r\n  notify,\r\n  message,\r\n  online,\r\n  call,\r\n  peer,\r\n  scroll,\r\n});\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport rootReducer from \"./reducers/index\";\r\n\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nconst DataProvider = ({ children }) => {\r\n  return <Provider store={store}>{children}</Provider>;\r\n};\r\n\r\nexport default DataProvider;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/global.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport DataProvider from './redux/store'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <DataProvider>\r\n      <App />\r\n    </DataProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Avatar = ({ src, size }) => {\r\n  const { theme } = useSelector((state) => state);\r\n\r\n  return (\r\n    <img\r\n      src={src}\r\n      alt=\"avatar\"\r\n      className={`avatar ${size}`}\r\n      style={{ filter: `${theme ? \"invert(1)\" : \"invert(0)\"}` }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import { GLOBALTYPES, DeleteData } from \"./globalTypes\";\r\nimport { getDataAPI, patchDataAPI } from \"../../utils/fetchData\";\r\nimport { imageUpload } from \"../../utils/imageUpload\";\r\nimport { createNotify, removeNotify } from \"./notifyAction\";\r\n\r\nexport const PROFILE_TYPES = {\r\n  LOADING: \"LOADING_PROFILE\",\r\n  GET_USER: \"GET_PROFILE_USER\",\r\n  FOLLOW: \"FOLLOW\",\r\n  UNFOLLOW: \"UNFOLLOW\",\r\n  GET_ID: \"GET_PROFILE_ID\",\r\n  GET_POSTS: \"GET_PROFILE_POSTS\",\r\n  UPDATE_POST: \"UPDATE_PROFILE_POST\",\r\n};\r\n\r\nexport const getProfileUsers =\r\n  ({ id, auth }) =>\r\n  async (dispatch) => {\r\n    dispatch({ type: PROFILE_TYPES.GET_ID, payload: id });\r\n\r\n    try {\r\n      dispatch({ type: PROFILE_TYPES.LOADING, payload: true });\r\n      const res = getDataAPI(`/user/${id}`, auth.token);\r\n      const res1 = getDataAPI(`/user_posts/${id}`, auth.token);\r\n\r\n      const users = await res;\r\n      const posts = await res1;\r\n\r\n      dispatch({\r\n        type: PROFILE_TYPES.GET_USER,\r\n        payload: users.data,\r\n      });\r\n\r\n      dispatch({\r\n        type: PROFILE_TYPES.GET_POSTS,\r\n        payload: { ...posts.data, _id: id, page: 2 },\r\n      });\r\n\r\n      dispatch({ type: PROFILE_TYPES.LOADING, payload: false });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const updateProfileUser =\r\n  ({ userData, avatar, auth }) =>\r\n  async (dispatch) => {\r\n    if (!userData.fullname)\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: \"Please add your full name.\" },\r\n      });\r\n\r\n    if (userData.fullname.length > 25)\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: \"Your full name too long.\" },\r\n      });\r\n\r\n    if (userData.story.length > 200)\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: \"Your story too long.\" },\r\n      });\r\n\r\n    try {\r\n      let media;\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n\r\n      if (avatar) media = await imageUpload([avatar]);\r\n\r\n      const res = await patchDataAPI(\r\n        \"user\",\r\n        {\r\n          ...userData,\r\n          avatar: avatar ? media[0].url : auth.user.avatar,\r\n        },\r\n        auth.token\r\n      );\r\n\r\n      dispatch({\r\n        type: GLOBALTYPES.AUTH,\r\n        payload: {\r\n          ...auth,\r\n          user: {\r\n            ...auth.user,\r\n            ...userData,\r\n            avatar: avatar ? media[0].url : auth.user.avatar,\r\n          },\r\n        },\r\n      });\r\n\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const follow =\r\n  ({ users, user, auth, socket }) =>\r\n  async (dispatch) => {\r\n    let newUser;\r\n\r\n    if (users.every((item) => item._id !== user._id)) {\r\n      newUser = { ...user, followers: [...user.followers, auth.user] };\r\n    } else {\r\n      users.forEach((item) => {\r\n        if (item._id === user._id) {\r\n          newUser = { ...item, followers: [...item.followers, auth.user] };\r\n        }\r\n      });\r\n    }\r\n\r\n    dispatch({ type: PROFILE_TYPES.FOLLOW, payload: newUser });\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: {\r\n        ...auth,\r\n        user: { ...auth.user, following: [...auth.user.following, newUser] },\r\n      },\r\n    });\r\n\r\n    try {\r\n      const res = await patchDataAPI(\r\n        `user/${user._id}/follow`,\r\n        null,\r\n        auth.token\r\n      );\r\n      socket.emit(\"follow\", res.data.newUser);\r\n\r\n      // Notify\r\n      const msg = {\r\n        id: auth.user._id,\r\n        text: \"has started to follow you.\",\r\n        recipients: [newUser._id],\r\n        url: `/profile/${auth.user._id}`,\r\n      };\r\n\r\n      dispatch(createNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const unfollow =\r\n  ({ users, user, auth, socket }) =>\r\n  async (dispatch) => {\r\n    let newUser;\r\n\r\n    if (users.every((item) => item._id !== user._id)) {\r\n      newUser = {\r\n        ...user,\r\n        followers: DeleteData(user.followers, auth.user._id),\r\n      };\r\n    } else {\r\n      users.forEach((item) => {\r\n        if (item._id === user._id) {\r\n          newUser = {\r\n            ...item,\r\n            followers: DeleteData(item.followers, auth.user._id),\r\n          };\r\n        }\r\n      });\r\n    }\r\n\r\n    dispatch({ type: PROFILE_TYPES.UNFOLLOW, payload: newUser });\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: {\r\n        ...auth,\r\n        user: {\r\n          ...auth.user,\r\n          following: DeleteData(auth.user.following, newUser._id),\r\n        },\r\n      },\r\n    });\r\n\r\n    try {\r\n      const res = await patchDataAPI(\r\n        `user/${user._id}/unfollow`,\r\n        null,\r\n        auth.token\r\n      );\r\n      socket.emit(\"unFollow\", res.data.newUser);\r\n\r\n      // Notify\r\n      const msg = {\r\n        id: auth.user._id,\r\n        text: \"has started to follow you.\",\r\n        recipients: [newUser._id],\r\n        url: `/profile/${auth.user._id}`,\r\n      };\r\n\r\n      dispatch(removeNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n","import React from \"react\";\r\nimport Avatar from \"./Avatar\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst UserCard = ({\r\n  children,\r\n  user,\r\n  border,\r\n  handleClose,\r\n  setShowFollowers,\r\n  setShowFollowing,\r\n  msg,\r\n}) => {\r\n  const { theme } = useSelector((state) => state);\r\n\r\n  const handleCloseAll = () => {\r\n    if (handleClose) handleClose();\r\n    if (setShowFollowers) setShowFollowers(false);\r\n    if (setShowFollowing) setShowFollowing(false);\r\n  };\r\n\r\n  const showMsg = (user) => {\r\n    return (\r\n      <>\r\n        <div style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}>\r\n          {user.text}\r\n        </div>\r\n        {user.media.length > 0 && (\r\n          <div>\r\n            {user.media.length} <i className=\"fas fa-image\" />\r\n          </div>\r\n        )}\r\n\r\n        {user.call && (\r\n          <span className=\"material-icons\">\r\n            {user.call.times === 0\r\n              ? user.call.video\r\n                ? \"videocam_off\"\r\n                : \"phone_disabled\"\r\n              : user.call.video\r\n              ? \"video_camera_front\"\r\n              : \"call\"}\r\n          </span>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`d-flex p-2 align-items-center justify-content-between w-100 ${border}`}\r\n    >\r\n      <div>\r\n        <Link\r\n          to={`/profile/${user._id}`}\r\n          onClick={handleCloseAll}\r\n          className=\"d-flex align-items-center\"\r\n        >\r\n          <Avatar src={user.avatar} size=\"big-avatar\" />\r\n\r\n          <div className=\"ml-1\" style={{ transform: \"translateY(-2px)\" }}>\r\n            <span className=\"d-block\">{user.username}</span>\r\n\r\n            <small style={{ opacity: 0.7 }}>\r\n              {msg ? showMsg(user) : user.fullname}\r\n            </small>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserCard;\r\n","export const imageShow = (src, theme) => {\r\n    return(\r\n        <img src={src} alt=\"images\" className=\"img-thumbnail\"\r\n        style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n    )\r\n}\r\n\r\nexport const videoShow = (src, theme) => {\r\n    return(\r\n        <video controls src={src} alt=\"images\" className=\"img-thumbnail\"\r\n        style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\r\n    )\r\n}","export const GLOBALTYPES = {\r\n  AUTH: \"AUTH\",\r\n  ALERT: \"ALERT\",\r\n  THEME: \"THEME\",\r\n  STATUS: \"STATUS\",\r\n  MODAL: \"MODAL\",\r\n  SOCKET: \"SOCKET\",\r\n  ONLINE: \"ONLINE\",\r\n  OFFLINE: \"OFFLINE\",\r\n  CALL: \"CALL\",\r\n  PEER: \"PEER\",\r\n};\r\n\r\nexport const EditData = (data, id, post) => {\r\n  const newData = data.map((item) => (item._id === id ? post : item));\r\n  return newData;\r\n};\r\n\r\nexport const DeleteData = (data, id) => {\r\n  const newData = data.filter((item) => item._id !== id);\r\n  return newData;\r\n};\r\n","export const checkImage = (file) => {\r\n    let err = \"\"\r\n    if (!file) return err = \"File does not exist.\"\r\n\r\n    if (file.size > 1024 * 1024) // 1mb\r\n        err = \"The largest image size is 1mb.\"\r\n\r\n    if (file.type !== 'image/jpeg' && file.type !== 'image/png')\r\n        err = \"Image format is incorrect.\"\r\n\r\n    return err;\r\n}\r\n\r\n\r\nexport const imageUpload = async (images) => {\r\n    let imgArr = [];\r\n    for (const item of images) {\r\n        const formData = new FormData();\r\n        formData.append(\"file\", item.camera ? item.camera : item);\r\n        formData.append(\"upload_preset\", \"socialize\"); \r\n        formData.append(\"cloud_name\", \"drcuvibon\");\r\n\r\n        try {\r\n            const res = await fetch(\"https://api.cloudinary.com/v1_1/drcuvibon/upload\", {\r\n                method: \"POST\",\r\n                body: formData,\r\n            });\r\n\r\n            if (!res.ok) {\r\n                throw new Error(`Cloudinary upload failed with status: ${res.status}`);\r\n            }\r\n\r\n            const data = await res.json();\r\n            imgArr.push({ public_id: data.public_id, url: data.secure_url });\r\n        } catch (error) {\r\n            console.error(\"Error uploading image:\", error);\r\n        }\r\n    }\r\n    return imgArr;\r\n}\r\n","import React from \"react\";\r\n\r\nconst LoadMoreBtn = ({ result, page, load, handleLoadMore }) => {\r\n  return (\r\n    <>\r\n      {result < 9 * (page - 1)\r\n        ? \"\"\r\n        : !load && (\r\n            <button\r\n              className=\"btn btn-dark mx-auto d-block\"\r\n              onClick={handleLoadMore}\r\n            >\r\n              Load more\r\n            </button>\r\n          )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoadMoreBtn;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { follow, unfollow } from \"../redux/actions/profileAction\";\r\n\r\nconst FollowBtn = ({ user }) => {\r\n  const [followed, setFollowed] = useState(false);\r\n\r\n  const { auth, profile, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [load, setLoad] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (auth.user.following.find((item) => item._id === user._id)) {\r\n      setFollowed(true);\r\n    }\r\n    return () => setFollowed(false);\r\n  }, [auth.user.following, user._id]);\r\n\r\n  const handleFollow = async () => {\r\n    if (load) return;\r\n\r\n    setFollowed(true);\r\n    setLoad(true);\r\n    await dispatch(follow({ users: profile.users, user, auth, socket }));\r\n    setLoad(false);\r\n  };\r\n\r\n  const handleUnFollow = async () => {\r\n    if (load) return;\r\n\r\n    setFollowed(false);\r\n    setLoad(true);\r\n    await dispatch(unfollow({ users: profile.users, user, auth, socket }));\r\n    setLoad(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {followed ? (\r\n        <button className=\"btn btn-outline-danger\" onClick={handleUnFollow}>\r\n          UnFollow\r\n        </button>\r\n      ) : (\r\n        <button className=\"btn btn-outline-info\" onClick={handleFollow}>\r\n          Follow\r\n        </button>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FollowBtn;\r\n","const valid = ({ fullname, username, email, password, cf_password }) => {\r\n  const err = {};\r\n\r\n  if (!fullname) {\r\n    err.fullname = \"Please add your full name.\";\r\n  } else if (fullname.length > 25) {\r\n    err.fullname = \"Full name is up to 25 characters long.\";\r\n  }\r\n\r\n  if (!username) {\r\n    err.username = \"Please add your user name.\";\r\n  } else if (username.replace(/ /g, \"\").length > 25) {\r\n    err.username = \"User name is up to 25 characters long.\";\r\n  }\r\n\r\n  if (!email) {\r\n    err.email = \"Please add your email.\";\r\n  } else if (!validateEmail(email)) {\r\n    err.email = \"Email format is incorrect.\";\r\n  }\r\n\r\n  if (!password) {\r\n    err.password = \"Please add your password.\";\r\n  } else if (password.length < 6) {\r\n    err.password = \"Password must be at least 6 characters.\";\r\n  }\r\n\r\n  if (password !== cf_password) {\r\n    err.cf_password = \"Confirm password did not match.\";\r\n  }\r\n\r\n  return {\r\n    errMsg: err,\r\n    errLength: Object.keys(err).length,\r\n  };\r\n};\r\n\r\nfunction validateEmail(email) {\r\n  const re =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(email);\r\n}\r\n\r\nexport default valid;\r\n","import { GLOBALTYPES } from \"./globalTypes\";\r\nimport { postDataAPI } from \"../../utils/fetchData\";\r\nimport valid from \"../../utils/valid\";\r\n\r\nexport const login = (data) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    const res = await postDataAPI(\"login\", data);\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: {\r\n        token: res.data.access_token,\r\n        user: res.data.user,\r\n      },\r\n    });\r\n\r\n    localStorage.setItem(\"firstLogin\", true);\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        success: res.data.msg,\r\n      },\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const refreshToken = () => async (dispatch) => {\r\n  const firstLogin = localStorage.getItem(\"firstLogin\");\r\n  if (firstLogin) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n\r\n    try {\r\n      const res = await postDataAPI(\"refresh_token\");\r\n      dispatch({\r\n        type: GLOBALTYPES.AUTH,\r\n        payload: {\r\n          token: res.data.access_token,\r\n          user: res.data.user,\r\n        },\r\n      });\r\n\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: {} });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: {\r\n          error: err.response.data.msg,\r\n        },\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport const register = (data) => async (dispatch) => {\r\n  const check = valid(data);\r\n  if (check.errLength > 0)\r\n    return dispatch({ type: GLOBALTYPES.ALERT, payload: check.errMsg });\r\n\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n\r\n    const res = await postDataAPI(\"register\", data);\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: {\r\n        token: res.data.access_token,\r\n        user: res.data.user,\r\n      },\r\n    });\r\n\r\n    localStorage.setItem(\"firstLogin\", true);\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        success: res.data.msg,\r\n      },\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  try {\r\n    localStorage.removeItem(\"firstLogin\");\r\n    await postDataAPI(\"logout\");\r\n    window.location.href = \"/\";\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n","import { GLOBALTYPES } from \"./globalTypes\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\n\r\nexport const SUGGES_TYPES = {\r\n  LOADING: \"LOADING_SUGGES\",\r\n  GET_USERS: \"GET_USERS_SUGGES\",\r\n};\r\n\r\nexport const getSuggestions = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: SUGGES_TYPES.LOADING, payload: true });\r\n\r\n    const res = await getDataAPI(\"suggestionsUser\", token);\r\n    dispatch({ type: SUGGES_TYPES.GET_USERS, payload: res.data });\r\n\r\n    dispatch({ type: SUGGES_TYPES.LOADING, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n","import { GLOBALTYPES } from \"./globalTypes\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\n\r\nexport const DISCOVER_TYPES = {\r\n  LOADING: \"LOADING_DISCOVER\",\r\n  GET_POSTS: \"GET_DISCOVER_POSTS\",\r\n  UPDATE_POST: \"UPDATE_DISCOVER_POST\",\r\n};\r\n\r\nexport const getDiscoverPosts = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: DISCOVER_TYPES.LOADING, payload: true });\r\n\r\n    const res = await getDataAPI(`post_discover`, token);\r\n    dispatch({ type: DISCOVER_TYPES.GET_POSTS, payload: res.data });\r\n\r\n    dispatch({ type: DISCOVER_TYPES.LOADING, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst PostThumb = ({ posts, result }) => {\r\n  const { theme } = useSelector((state) => state);\r\n\r\n  if (result === 0) return <h2 className=\"text-center text-danger\">No Post</h2>;\r\n\r\n  return (\r\n    <div className=\"post_thumb\">\r\n      {posts.map((post) => (\r\n        <Link key={post._id} to={`/post/${post._id}`}>\r\n          <div className=\"post_thumb_display\">\r\n            {post.images[0].url.match(/video/i) ? (\r\n              <video\r\n                controls\r\n                src={post.images[0].url}\r\n                alt={post.images[0].url}\r\n                style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n              />\r\n            ) : (\r\n              <img\r\n                src={post.images[0].url}\r\n                alt={post.images[0].url}\r\n                style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n              />\r\n            )}\r\n\r\n            <div className=\"post_thumb_menu\">\r\n              <i className=\"far fa-heart\">{post.likes.length}</i>\r\n              <i className=\"far fa-comment\">{post.comments.length}</i>\r\n            </div>\r\n          </div>\r\n        </Link>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostThumb;\r\n","import React from \"react\";\r\n\r\nconst Icons = ({ setContent, content, theme }) => {\r\n  const reactions = [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n  ];\r\n\r\n  return (\r\n    <div\r\n      className=\"nav-item dropdown\"\r\n      style={{ opacity: 1, filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n    >\r\n      <span\r\n        className=\"nav-link position-relative px-1\"\r\n        id=\"navbarDropdown\"\r\n        role=\"button\"\r\n        data-toggle=\"dropdown\"\r\n        aria-haspopup=\"true\"\r\n        aria-expanded=\"false\"\r\n      >\r\n        <span style={{ opacity: 0.4 }}></span>\r\n      </span>\r\n\r\n      <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n        <div className=\"reactions\">\r\n          {reactions.map((icon) => (\r\n            <span key={icon} onClick={() => setContent(content + icon)}>\r\n              {icon}\r\n            </span>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Icons;\r\n","import React from \"react\";\r\nimport LeftSide from \"../../components/message/LeftSide\";\r\n\r\nconst Message = () => {\r\n  return (\r\n    <div className=\"message d-flex\">\r\n      <div className=\"col-md-4 border-right px-0\">\r\n        <LeftSide />\r\n      </div>\r\n\r\n      <div className=\"col-md-8 px-0 right_mess\">\r\n        <div\r\n          className=\"d-flex justify-content-center \r\n                align-items-center flex-column h-100\"\r\n        >\r\n          <i\r\n            className=\"fab fa-facebook-messenger text-primary\"\r\n            style={{ fontSize: \"5rem\" }}\r\n          />\r\n          <h4>Messenger</h4>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { login } from \"../redux/actions/authAction\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst Login = () => {\r\n  const initialState = { email: \"\", password: \"\" };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const { email, password } = userData;\r\n\r\n  const [typePass, setTypePass] = useState(false);\r\n\r\n  const { auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (auth.token) history.push(\"/\");\r\n  }, [auth.token, history]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(login(userData));\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth_page\">\r\n      <form onSubmit={handleSubmit}>\r\n        <h3 className=\"text-uppercase text-center mb-4\">socialize</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputEmail1\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            name=\"email\"\r\n            aria-describedby=\"emailHelp\"\r\n            onChange={handleChangeInput}\r\n            value={email}\r\n          />\r\n\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            We'll never share your email with anyone else.\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n\r\n          <div className=\"pass\">\r\n            <input\r\n              type={typePass ? \"text\" : \"password\"}\r\n              className=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              onChange={handleChangeInput}\r\n              value={password}\r\n              name=\"password\"\r\n            />\r\n\r\n            <small onClick={() => setTypePass(!typePass)}>\r\n              {typePass ? \"Hide\" : \"Show\"}\r\n            </small>\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-dark w-100\"\r\n          disabled={email && password ? false : true}\r\n        >\r\n          Login\r\n        </button>\r\n\r\n        <p className=\"my-2\">\r\n          You don't have an account?{\" \"}\r\n          <Link to=\"/register\" style={{ color: \"crimson\" }}>\r\n            Register Now\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { register } from \"../redux/actions/authAction\";\r\n\r\nconst Register = () => {\r\n  const { auth, alert } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialState = {\r\n    fullname: \"\",\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    cf_password: \"\",\r\n    gender: \"male\",\r\n  };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const { fullname, username, email, password, cf_password } = userData;\r\n\r\n  const [typePass, setTypePass] = useState(false);\r\n  const [typeCfPass, setTypeCfPass] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (auth.token) history.push(\"/\");\r\n  }, [auth.token, history]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(register(userData));\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth_page\">\r\n      <form onSubmit={handleSubmit}>\r\n        <h3 className=\"text-uppercase text-center mb-4\">socialize</h3>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"fullname\">Full Name</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"fullname\"\r\n            name=\"fullname\"\r\n            onChange={handleChangeInput}\r\n            value={fullname}\r\n            style={{ background: `${alert.fullname ? \"#fd2d6a14\" : \"\"}` }}\r\n          />\r\n\r\n          <small className=\"form-text text-danger\">\r\n            {alert.fullname ? alert.fullname : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"username\">User Name</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            onChange={handleChangeInput}\r\n            value={username.toLowerCase().replace(/ /g, \"\")}\r\n            style={{ background: `${alert.username ? \"#fd2d6a14\" : \"\"}` }}\r\n          />\r\n\r\n          <small className=\"form-text text-danger\">\r\n            {alert.username ? alert.username : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputEmail1\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            name=\"email\"\r\n            onChange={handleChangeInput}\r\n            value={email}\r\n            style={{ background: `${alert.email ? \"#fd2d6a14\" : \"\"}` }}\r\n          />\r\n\r\n          <small className=\"form-text text-danger\">\r\n            {alert.email ? alert.email : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n\r\n          <div className=\"pass\">\r\n            <input\r\n              type={typePass ? \"text\" : \"password\"}\r\n              className=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              onChange={handleChangeInput}\r\n              value={password}\r\n              name=\"password\"\r\n              style={{ background: `${alert.password ? \"#fd2d6a14\" : \"\"}` }}\r\n            />\r\n\r\n            <small onClick={() => setTypePass(!typePass)}>\r\n              {typePass ? \"Hide\" : \"Show\"}\r\n            </small>\r\n          </div>\r\n\r\n          <small className=\"form-text text-danger\">\r\n            {alert.password ? alert.password : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"cf_password\">Confirm Password</label>\r\n\r\n          <div className=\"pass\">\r\n            <input\r\n              type={typeCfPass ? \"text\" : \"password\"}\r\n              className=\"form-control\"\r\n              id=\"cf_password\"\r\n              onChange={handleChangeInput}\r\n              value={cf_password}\r\n              name=\"cf_password\"\r\n              style={{ background: `${alert.cf_password ? \"#fd2d6a14\" : \"\"}` }}\r\n            />\r\n\r\n            <small onClick={() => setTypeCfPass(!typeCfPass)}>\r\n              {typeCfPass ? \"Hide\" : \"Show\"}\r\n            </small>\r\n          </div>\r\n\r\n          <small className=\"form-text text-danger\">\r\n            {alert.cf_password ? alert.cf_password : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"row justify-content-between mx-0 mb-1\">\r\n          <label htmlFor=\"male\">\r\n            Male:{\" \"}\r\n            <input\r\n              type=\"radio\"\r\n              id=\"male\"\r\n              name=\"gender\"\r\n              value=\"male\"\r\n              defaultChecked\r\n              onChange={handleChangeInput}\r\n            />\r\n          </label>\r\n\r\n          <label htmlFor=\"female\">\r\n            Female:{\" \"}\r\n            <input\r\n              type=\"radio\"\r\n              id=\"female\"\r\n              name=\"gender\"\r\n              value=\"female\"\r\n              onChange={handleChangeInput}\r\n            />\r\n          </label>\r\n\r\n          <label htmlFor=\"other\">\r\n            Other:{\" \"}\r\n            <input\r\n              type=\"radio\"\r\n              id=\"other\"\r\n              name=\"gender\"\r\n              value=\"other\"\r\n              onChange={handleChangeInput}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-dark w-100\">\r\n          Register\r\n        </button>\r\n\r\n        <p className=\"my-2\">\r\n          Already have an account?{\" \"}\r\n          <Link to=\"/\" style={{ color: \"crimson\" }}>\r\n            Login Now\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport Avatar from \"../Avatar\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\n\r\nconst Status = () => {\r\n  const { auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"status my-3 d-flex\">\r\n      <Avatar src={auth.user.avatar} size=\"big-avatar\" />\r\n\r\n      <button\r\n        className=\"statusBtn flex-fill\"\r\n        onClick={() => dispatch({ type: GLOBALTYPES.STATUS, payload: true })}\r\n      >\r\n        {auth.user.username}, what are you thinking?\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Status;\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport PostCard from \"../PostCard\";\r\n\r\nimport LoadIcon from \"../../images/loading.gif\";\r\nimport LoadMoreBtn from \"../LoadMoreBtn\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { POST_TYPES } from \"../../redux/actions/postAction\";\r\n\r\nconst Posts = () => {\r\n  const { homePosts, auth, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [load, setLoad] = useState(false);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(\r\n      `posts?limit=${homePosts.page * 9}`,\r\n      auth.token\r\n    );\r\n\r\n    dispatch({\r\n      type: POST_TYPES.GET_POSTS,\r\n      payload: { ...res.data, page: homePosts.page + 1 },\r\n    });\r\n\r\n    setLoad(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"posts\">\r\n      {homePosts.posts.map((post) => (\r\n        <PostCard key={post._id} post={post} theme={theme} />\r\n      ))}\r\n\r\n      {load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />}\r\n\r\n      <LoadMoreBtn\r\n        result={homePosts.result}\r\n        page={homePosts.page}\r\n        load={load}\r\n        handleLoadMore={handleLoadMore}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport UserCard from \"../UserCard\";\r\nimport FollowBtn from \"../FollowBtn\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\nimport { getSuggestions } from \"../../redux/actions/suggestionsAction\";\r\n\r\nconst RightSideBar = () => {\r\n  const { auth, suggestions } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"mt-3\">\r\n      <UserCard user={auth.user} />\r\n\r\n      <div className=\"d-flex justify-content-between align-items-center my-2\">\r\n        <h5 className=\"text-danger\">Suggestions for you</h5>\r\n        {!suggestions.loading && (\r\n          <i\r\n            className=\"fas fa-redo\"\r\n            style={{ cursor: \"pointer\" }}\r\n            onClick={() => dispatch(getSuggestions(auth.token))}\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      {suggestions.loading ? (\r\n        <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\r\n      ) : (\r\n        <div className=\"suggestions\">\r\n          {suggestions.users.map((user) => (\r\n            <UserCard key={user._id} user={user}>\r\n              <FollowBtn user={user} />\r\n            </UserCard>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RightSideBar;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport Status from \"../components/home/Status\";\r\nimport Posts from \"../components/home/Posts\";\r\nimport RightSideBar from \"../components/home/RightSideBar\";\r\nimport { scrollToAction } from \"../redux/actions/scrollAction\";\r\n\r\nimport LoadIcon from \"../images/loading.gif\";\r\n\r\nconst Home = () => {\r\n  const { homePosts, scroll } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  window.addEventListener(\"scroll\", async () => {\r\n    if (window.location.pathname === \"/\") {\r\n      await dispatch(scrollToAction(window.pageYOffset));\r\n      return scroll;\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      window.scrollTo({ top: scroll, behavior: \"smooth\" });\r\n    }, 100);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"home row mx-0\">\r\n      <div className=\"col-md-8\">\r\n        <Status />\r\n\r\n        {homePosts.loading ? (\r\n          <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n        ) : homePosts.result === 0 && homePosts.posts.length === 0 ? (\r\n          <h2 className=\"text-center\">No Post</h2>\r\n        ) : (\r\n          <Posts />\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"col-md-4\">\r\n        <RightSideBar />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","export const SCROLL_TYPES = {\r\n  SCROLL: \"SCROLL\",\r\n};\r\n\r\nexport const scrollToAction = (pageYOffset) => async (dispatch) => {\r\n  dispatch({ type: SCROLL_TYPES.SCROLL, payload: pageYOffset });\r\n};\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport UserCard from \"../UserCard\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport {\r\n  MESS_TYPES,\r\n  getConversations,\r\n} from \"../../redux/actions/messageAction\";\r\n\r\nconst LeftSide = () => {\r\n  const { auth, message, online } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n  const [searchUsers, setSearchUsers] = useState([]);\r\n\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  const pageEnd = useRef();\r\n  const [page, setPage] = useState(0);\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    if (!search) return setSearchUsers([]);\r\n\r\n    try {\r\n      const res = await getDataAPI(`search?username=${search}`, auth.token);\r\n      setSearchUsers(res.data.users);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleAddUser = (user) => {\r\n    setSearch(\"\");\r\n    setSearchUsers([]);\r\n    dispatch({\r\n      type: MESS_TYPES.ADD_USER,\r\n      payload: { ...user, text: \"\", media: [] },\r\n    });\r\n    dispatch({ type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online });\r\n    return history.push(`/message/${user._id}`);\r\n  };\r\n\r\n  const isActive = (user) => {\r\n    if (id === user._id) return \"active\";\r\n    return \"\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (message.firstLoad) return;\r\n    dispatch(getConversations({ auth }));\r\n  }, [dispatch, auth, message.firstLoad]);\r\n\r\n  // Load More\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries[0].isIntersecting) {\r\n          setPage((p) => p + 1);\r\n        }\r\n      },\r\n      {\r\n        threshold: 0.1,\r\n      }\r\n    );\r\n\r\n    observer.observe(pageEnd.current);\r\n  }, [setPage]);\r\n\r\n  useEffect(() => {\r\n    if (message.resultUsers >= (page - 1) * 9 && page > 1) {\r\n      dispatch(getConversations({ auth, page }));\r\n    }\r\n  }, [message.resultUsers, page, auth, dispatch]);\r\n\r\n  // Check User Online - Offline\r\n  useEffect(() => {\r\n    if (message.firstLoad) {\r\n      dispatch({ type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online });\r\n    }\r\n  }, [online, message.firstLoad, dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <form className=\"message_header\" onSubmit={handleSearch}>\r\n        <input\r\n          type=\"text\"\r\n          value={search}\r\n          placeholder=\"Enter to Search...\"\r\n          onChange={(e) => setSearch(e.target.value)}\r\n        />\r\n\r\n        <button type=\"submit\" style={{ display: \"none\" }}>\r\n          Search\r\n        </button>\r\n      </form>\r\n\r\n      <div className=\"message_chat_list\">\r\n        {searchUsers.length !== 0 ? (\r\n          <>\r\n            {searchUsers.map((user) => (\r\n              <div\r\n                key={user._id}\r\n                className={`message_user ${isActive(user)}`}\r\n                onClick={() => handleAddUser(user)}\r\n              >\r\n                <UserCard user={user} />\r\n              </div>\r\n            ))}\r\n          </>\r\n        ) : (\r\n          <>\r\n            {message.users.map((user) => (\r\n              <div\r\n                key={user._id}\r\n                className={`message_user ${isActive(user)}`}\r\n                onClick={() => handleAddUser(user)}\r\n              >\r\n                <UserCard user={user} msg={true}>\r\n                  {user.online ? (\r\n                    <i className=\"fas fa-circle text-success\" />\r\n                  ) : (\r\n                    auth.user.following.find(\r\n                      (item) => item._id === user._id\r\n                    ) && <i className=\"fas fa-circle\" />\r\n                  )}\r\n                </UserCard>\r\n              </div>\r\n            ))}\r\n          </>\r\n        )}\r\n\r\n        <button ref={pageEnd} style={{ opacity: 0 }}>\r\n          Load More\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LeftSide;\r\n","export const BASE_URL = 'https://v-network-devat.herokuapp.com'","import React from \"react\";\r\nimport Avatar from \"../../Avatar\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport { GLOBALTYPES } from \"../../../redux/actions/globalTypes\";\r\nimport { deletePost } from \"../../../redux/actions/postAction\";\r\nimport { BASE_URL } from \"../../../utils/config\";\r\n\r\nconst CardHeader = ({ post }) => {\r\n  const { auth, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const history = useHistory();\r\n\r\n  const handleEditPost = () => {\r\n    dispatch({ type: GLOBALTYPES.STATUS, payload: { ...post, onEdit: true } });\r\n  };\r\n\r\n  const handleDeletePost = () => {\r\n    if (window.confirm(\"Are you sure want to delete this post?\")) {\r\n      dispatch(deletePost({ post, auth, socket }));\r\n      return history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  const handleCopyLink = () => {\r\n    navigator.clipboard.writeText(`${BASE_URL}/post/${post._id}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"card_header\">\r\n      <div className=\"d-flex\">\r\n        <Avatar src={post.user.avatar} size=\"big-avatar\" />\r\n\r\n        <div className=\"card_name\">\r\n          <h6 className=\"m-0\">\r\n            <Link to={`/profile/${post.user._id}`} className=\"text-dark\">\r\n              {post.user.username}\r\n            </Link>\r\n          </h6>\r\n          <small className=\"text-muted\">\r\n            {moment(post.createdAt).fromNow()}\r\n          </small>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"nav-item dropdown\">\r\n        <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\r\n          more_horiz\r\n        </span>\r\n\r\n        <div className=\"dropdown-menu\">\r\n          {auth.user._id === post.user._id && (\r\n            <>\r\n              <div className=\"dropdown-item\" onClick={handleEditPost}>\r\n                <span className=\"material-icons\">create</span> Edit Post\r\n              </div>\r\n              <div className=\"dropdown-item\" onClick={handleDeletePost}>\r\n                <span className=\"material-icons\">delete_outline</span> Remove\r\n                Post\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          <div className=\"dropdown-item\" onClick={handleCopyLink}>\r\n            <span className=\"material-icons\">content_copy</span> Copy Link\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardHeader;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Carousel = ({ images, id }) => {\r\n  const isActive = (index) => {\r\n    return index === 0 ? \"active\" : \"\";\r\n  };\r\n\r\n  const { theme } = useSelector((state) => state);\r\n\r\n  return (\r\n    <div id={`image${id}`} className=\"carousel slide\" data-ride=\"carousel\">\r\n      <ol className=\"carousel-indicators\" style={{ zIndex: 1 }}>\r\n        {images.map((_, index) => (\r\n          <li\r\n            key={index}\r\n            data-target={`#image${id}`}\r\n            data-slide-to={index}\r\n            className={isActive(index)}\r\n          />\r\n        ))}\r\n      </ol>\r\n\r\n      <div className=\"carousel-inner\">\r\n        {images.map((img, index) => (\r\n          <div key={index} className={`carousel-item ${isActive(index)}`}>\r\n            {typeof img.url === 'string' && img.url.match(/video/i) ? (\r\n              <video\r\n                controls\r\n                src={img.url}\r\n                className=\"d-block w-100\"\r\n                alt={img.url}\r\n                style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n              />\r\n            ) : (\r\n              <img\r\n                src={img.url}\r\n                className=\"d-block w-100\"\r\n                alt={img.url}\r\n                style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n              />\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {images.length > 1 && (\r\n        <>\r\n          <a\r\n            className=\"carousel-control-prev\"\r\n            href={`#image${id}`}\r\n            role=\"button\"\r\n            data-slide=\"prev\"\r\n            style={{ width: '5%' }}\r\n          >\r\n            <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n            <span className=\"sr-only\">Previous</span>\r\n          </a>\r\n\r\n          <a\r\n            className=\"carousel-control-next\"\r\n            href={`#image${id}`}\r\n            role=\"button\"\r\n            data-slide=\"next\"\r\n            style={{ width: '5%' }}\r\n          >\r\n            <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n            <span className=\"sr-only\">Next</span>\r\n          </a>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Carousel;\r\n","import React, { useState } from \"react\";\r\nimport Carousel from \"../../Carousel\";\r\n\r\nconst CardBody = ({ post, theme }) => {\r\n  const [readMore, setReadMore] = useState(false);\r\n\r\n  return (\r\n    <div className=\"card_body\">\r\n      <div\r\n        className=\"card_body-content\"\r\n        style={{\r\n          filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n          color: theme ? \"white\" : \"#111\",\r\n        }}\r\n      >\r\n        <span>\r\n          {post.content.length < 60\r\n            ? post.content\r\n            : readMore\r\n            ? post.content + \" \"\r\n            : post.content.slice(0, 60) + \".....\"}\r\n        </span>\r\n        {post.content.length > 60 && (\r\n          <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\r\n            {readMore ? \"Hide content\" : \"Read more\"}\r\n          </span>\r\n        )}\r\n      </div>\r\n      {post.images.length > 0 && (\r\n        <Carousel images={post.images} id={post._id} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardBody;\r\n","export default __webpack_public_path__ + \"static/media/send.fab9d966.svg\";","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst LikeButton = ({ isLike, handleLike, handleUnLike }) => {\r\n  const { theme } = useSelector((state) => state);\r\n\r\n  return (\r\n    <>\r\n      {isLike ? (\r\n        <i\r\n          className=\"fas fa-heart text-danger\"\r\n          onClick={handleUnLike}\r\n          style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n        />\r\n      ) : (\r\n        <i className=\"far fa-heart\" onClick={handleLike} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LikeButton;\r\n","import React from \"react\";\r\nimport {\r\n  EmailShareButton,\r\n  EmailIcon,\r\n  FacebookShareButton,\r\n  FacebookIcon,\r\n  TelegramShareButton,\r\n  TelegramIcon,\r\n  TwitterShareButton,\r\n  TwitterIcon,\r\n  WhatsappShareButton,\r\n  WhatsappIcon,\r\n  RedditShareButton,\r\n  RedditIcon,\r\n} from \"react-share\";\r\n\r\nconst ShareModal = ({ url, theme }) => {\r\n  return (\r\n    <div\r\n      className=\"d-flex justify-content-between px-4 py-2\"\r\n      style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n    >\r\n      <FacebookShareButton url={url}>\r\n        <FacebookIcon round={true} size={32} />\r\n      </FacebookShareButton>\r\n\r\n      <TwitterShareButton url={url}>\r\n        <TwitterIcon round={true} size={32} />\r\n      </TwitterShareButton>\r\n\r\n      <EmailShareButton url={url}>\r\n        <EmailIcon round={true} size={32} />\r\n      </EmailShareButton>\r\n\r\n      <RedditShareButton url={url}>\r\n        <RedditIcon round={true} size={32} />\r\n      </RedditShareButton>\r\n\r\n      <TelegramShareButton url={url}>\r\n        <TelegramIcon round={true} size={32} />\r\n      </TelegramShareButton>\r\n\r\n      <WhatsappShareButton url={url}>\r\n        <WhatsappIcon round={true} size={32} />\r\n      </WhatsappShareButton>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShareModal;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Send from \"../../../images/send.svg\";\r\nimport LikeButton from \"../../LikeButton\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  likePost,\r\n  unLikePost,\r\n  savePost,\r\n  unSavePost,\r\n} from \"../../../redux/actions/postAction\";\r\nimport ShareModal from \"../../ShareModal\";\r\nimport { BASE_URL } from \"../../../utils/config\";\r\n\r\nconst CardFooter = ({ post }) => {\r\n  const [isLike, setIsLike] = useState(false);\r\n  const [loadLike, setLoadLike] = useState(false);\r\n\r\n  const [isShare, setIsShare] = useState(false);\r\n\r\n  const { auth, theme, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [saved, setSaved] = useState(false);\r\n  const [saveLoad, setSaveLoad] = useState(false);\r\n\r\n  // Likes\r\n  useEffect(() => {\r\n    if (post.likes.find((like) => like._id === auth.user._id)) {\r\n      setIsLike(true);\r\n    } else {\r\n      setIsLike(false);\r\n    }\r\n  }, [post.likes, auth.user._id]);\r\n\r\n  const handleLike = async () => {\r\n    if (loadLike) return;\r\n\r\n    setLoadLike(true);\r\n    await dispatch(likePost({ post, auth, socket }));\r\n    setLoadLike(false);\r\n  };\r\n\r\n  const handleUnLike = async () => {\r\n    if (loadLike) return;\r\n\r\n    setLoadLike(true);\r\n    await dispatch(unLikePost({ post, auth, socket }));\r\n    setLoadLike(false);\r\n  };\r\n\r\n  // Saved\r\n  useEffect(() => {\r\n    if (auth.user.saved.find((id) => id === post._id)) {\r\n      setSaved(true);\r\n    } else {\r\n      setSaved(false);\r\n    }\r\n  }, [auth.user.saved, post._id]);\r\n\r\n  const handleSavePost = async () => {\r\n    if (saveLoad) return;\r\n\r\n    setSaveLoad(true);\r\n    await dispatch(savePost({ post, auth }));\r\n    setSaveLoad(false);\r\n  };\r\n\r\n  const handleUnSavePost = async () => {\r\n    if (saveLoad) return;\r\n\r\n    setSaveLoad(true);\r\n    await dispatch(unSavePost({ post, auth }));\r\n    setSaveLoad(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"card_footer\">\r\n      <div className=\"card_icon_menu\">\r\n        <div>\r\n          <LikeButton\r\n            isLike={isLike}\r\n            handleLike={handleLike}\r\n            handleUnLike={handleUnLike}\r\n          />\r\n\r\n          <Link to={`/post/${post._id}`} className=\"text-dark\">\r\n            <i className=\"far fa-comment\" />\r\n          </Link>\r\n\r\n          <img src={Send} alt=\"Send\" onClick={() => setIsShare(!isShare)} />\r\n        </div>\r\n\r\n        {saved ? (\r\n          <i className=\"fas fa-bookmark text-info\" onClick={handleUnSavePost} />\r\n        ) : (\r\n          <i className=\"far fa-bookmark\" onClick={handleSavePost} />\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"d-flex justify-content-between\">\r\n        <h6 style={{ padding: \"0 25px\", cursor: \"pointer\" }}>\r\n          {post.likes.length} likes\r\n        </h6>\r\n\r\n        <h6 style={{ padding: \"0 25px\", cursor: \"pointer\" }}>\r\n          {post.comments.length} comments\r\n        </h6>\r\n      </div>\r\n\r\n      {isShare && (\r\n        <ShareModal url={`${BASE_URL}/post/${post._id}`} theme={theme} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardFooter;\r\n","import { GLOBALTYPES, EditData, DeleteData } from \"./globalTypes\";\r\nimport { POST_TYPES } from \"./postAction\";\r\nimport {\r\n  postDataAPI,\r\n  patchDataAPI,\r\n  deleteDataAPI,\r\n} from \"../../utils/fetchData\";\r\nimport { createNotify, removeNotify } from \"./notifyAction\";\r\n\r\nexport const createComment =\r\n  ({ post, newComment, auth, socket }) =>\r\n  async (dispatch) => {\r\n    const newPost = { ...post, comments: [...post.comments, newComment] };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n    try {\r\n      const data = {\r\n        ...newComment,\r\n        postId: post._id,\r\n        postUserId: post.user._id,\r\n      };\r\n      const res = await postDataAPI(\"comment\", data, auth.token);\r\n\r\n      const newData = { ...res.data.newComment, user: auth.user };\r\n      const newPost = { ...post, comments: [...post.comments, newData] };\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n      // Socket\r\n      socket.emit(\"createComment\", newPost);\r\n\r\n      // Notify\r\n      const msg = {\r\n        id: res.data.newComment._id,\r\n        text: newComment.reply\r\n          ? \"mentioned you in a comment.\"\r\n          : \"has commented on your post.\",\r\n        recipients: newComment.reply ? [newComment.tag._id] : [post.user._id],\r\n        url: `/post/${post._id}`,\r\n        content: post.content,\r\n        image: post.images[0].url,\r\n      };\r\n\r\n      dispatch(createNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const updateComment =\r\n  ({ comment, post, content, auth }) =>\r\n  async (dispatch) => {\r\n    const newComments = EditData(post.comments, comment._id, {\r\n      ...comment,\r\n      content,\r\n    });\r\n    const newPost = { ...post, comments: newComments };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    try {\r\n      patchDataAPI(`comment/${comment._id}`, { content }, auth.token);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const likeComment =\r\n  ({ comment, post, auth }) =>\r\n  async (dispatch) => {\r\n    const newComment = { ...comment, likes: [...comment.likes, auth.user] };\r\n\r\n    const newComments = EditData(post.comments, comment._id, newComment);\r\n\r\n    const newPost = { ...post, comments: newComments };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n    try {\r\n      await patchDataAPI(`comment/${comment._id}/like`, null, auth.token);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const unLikeComment =\r\n  ({ comment, post, auth }) =>\r\n  async (dispatch) => {\r\n    const newComment = {\r\n      ...comment,\r\n      likes: DeleteData(comment.likes, auth.user._id),\r\n    };\r\n\r\n    const newComments = EditData(post.comments, comment._id, newComment);\r\n\r\n    const newPost = { ...post, comments: newComments };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n    try {\r\n      await patchDataAPI(`comment/${comment._id}/unlike`, null, auth.token);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\nexport const deleteComment =\r\n  ({ post, comment, auth, socket }) =>\r\n  async (dispatch) => {\r\n    const deleteArr = [\r\n      ...post.comments.filter((cm) => cm.reply === comment._id),\r\n      comment,\r\n    ];\r\n\r\n    const newPost = {\r\n      ...post,\r\n      comments: post.comments.filter(\r\n        (cm) => !deleteArr.find((da) => cm._id === da._id)\r\n      ),\r\n    };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n    socket.emit(\"deleteComment\", newPost);\r\n    try {\r\n      deleteArr.forEach((item) => {\r\n        deleteDataAPI(`comment/${item._id}`, auth.token);\r\n\r\n        const msg = {\r\n          id: item._id,\r\n          text: comment.reply\r\n            ? \"mentioned you in a comment.\"\r\n            : \"has commented on your post.\",\r\n          recipients: comment.reply ? [comment.tag._id] : [post.user._id],\r\n          url: `/post/${post._id}`,\r\n        };\r\n\r\n        dispatch(removeNotify({ msg, auth, socket }));\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteComment } from \"../../../redux/actions/commentAction\";\r\n\r\nconst CommentMenu = ({ post, comment, setOnEdit }) => {\r\n  const { auth, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleRemove = () => {\r\n    if (post.user._id === auth.user._id || comment.user._id === auth.user._id) {\r\n      dispatch(deleteComment({ post, auth, comment, socket }));\r\n    }\r\n  };\r\n\r\n  const MenuItem = () => {\r\n    return (\r\n      <>\r\n        <div className=\"dropdown-item\" onClick={() => setOnEdit(true)}>\r\n          <span className=\"material-icons\">create</span> Edit\r\n        </div>\r\n        <div className=\"dropdown-item\" onClick={handleRemove}>\r\n          <span className=\"material-icons\">delete_outline</span> Remove\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu\">\r\n      {(post.user._id === auth.user._id ||\r\n        comment.user._id === auth.user._id) && (\r\n        <div className=\"nav-item dropdown\">\r\n          <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\r\n            more_vert\r\n          </span>\r\n\r\n          <div className=\"dropdown-menu\" aria-labelledby=\"moreLink\">\r\n            {post.user._id === auth.user._id ? (\r\n              comment.user._id === auth.user._id ? (\r\n                MenuItem()\r\n              ) : (\r\n                <div className=\"dropdown-item\" onClick={handleRemove}>\r\n                  <span className=\"material-icons\">delete_outline</span> Remove\r\n                </div>\r\n              )\r\n            ) : (\r\n              comment.user._id === auth.user._id && MenuItem()\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentMenu;\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { createComment } from \"../../redux/actions/commentAction\";\r\nimport Icons from \"../Icons\";\r\n\r\nconst InputComment = ({ children, post, onReply, setOnReply }) => {\r\n  const [content, setContent] = useState(\"\");\r\n\r\n  const { auth, socket, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!content.trim()) {\r\n      if (setOnReply) return setOnReply(false);\r\n      return;\r\n    }\r\n\r\n    setContent(\"\");\r\n\r\n    const newComment = {\r\n      content,\r\n      likes: [],\r\n      user: auth.user,\r\n      createdAt: new Date().toISOString(),\r\n      reply: onReply && onReply.commentId,\r\n      tag: onReply && onReply.user,\r\n    };\r\n\r\n    dispatch(createComment({ post, newComment, auth, socket }));\r\n\r\n    if (setOnReply) return setOnReply(false);\r\n  };\r\n\r\n  return (\r\n    <form className=\"card-footer comment_input\" onSubmit={handleSubmit}>\r\n      {children}\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Add your comments...\"\r\n        value={content}\r\n        onChange={(e) => setContent(e.target.value)}\r\n        style={{\r\n          filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n          color: theme ? \"white\" : \"#111\",\r\n          background: theme ? \"rgba(0,0,0,.03)\" : \"\",\r\n        }}\r\n      />\r\n\r\n      <Icons setContent={setContent} content={content} theme={theme} />\r\n\r\n      <button type=\"submit\" className=\"postBtn\">\r\n        Post\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default InputComment;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Avatar from \"../../Avatar\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\n\r\nimport LikeButton from \"../../LikeButton\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport CommentMenu from \"./CommentMenu\";\r\nimport {\r\n  updateComment,\r\n  likeComment,\r\n  unLikeComment,\r\n} from \"../../../redux/actions/commentAction\";\r\nimport InputComment from \"../InputComment\";\r\n\r\nconst CommentCard = ({ children, comment, post, commentId }) => {\r\n  const { auth, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [content, setContent] = useState(\"\");\r\n  const [readMore, setReadMore] = useState(false);\r\n\r\n  const [onEdit, setOnEdit] = useState(false);\r\n  const [isLike, setIsLike] = useState(false);\r\n  const [loadLike, setLoadLike] = useState(false);\r\n\r\n  const [onReply, setOnReply] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setContent(comment.content);\r\n    setIsLike(false);\r\n    setOnReply(false);\r\n    if (comment.likes.find((like) => like._id === auth.user._id)) {\r\n      setIsLike(true);\r\n    }\r\n  }, [comment, auth.user._id]);\r\n\r\n  const handleUpdate = () => {\r\n    if (comment.content !== content) {\r\n      dispatch(updateComment({ comment, post, content, auth }));\r\n      setOnEdit(false);\r\n    } else {\r\n      setOnEdit(false);\r\n    }\r\n  };\r\n\r\n  const handleLike = async () => {\r\n    if (loadLike) return;\r\n    setIsLike(true);\r\n\r\n    setLoadLike(true);\r\n    dispatch(likeComment({ comment, post, auth })).then(() =>\r\n      setLoadLike(false)\r\n    );\r\n  };\r\n\r\n  const handleUnLike = async () => {\r\n    if (loadLike) return;\r\n    setIsLike(false);\r\n\r\n    setLoadLike(true);\r\n    dispatch(unLikeComment({ comment, post, auth })).then(() =>\r\n      setLoadLike(false)\r\n    );\r\n  };\r\n\r\n  const handleReply = () => {\r\n    if (onReply) return setOnReply(false);\r\n    setOnReply({ ...comment, commentId });\r\n  };\r\n\r\n  const styleCard = {\r\n    opacity: comment._id ? 1 : 0.5,\r\n    pointerEvents: comment._id ? \"inherit\" : \"none\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"comment_card mt-2\" style={styleCard}>\r\n      <Link to={`/profile/${comment.user._id}`} className=\"d-flex text-dark\">\r\n        <Avatar src={comment.user.avatar} size=\"small-avatar\" />\r\n        <h6 className=\"mx-1\">{comment.user.username}</h6>\r\n      </Link>\r\n\r\n      <div className=\"comment_content\">\r\n        <div\r\n          className=\"flex-fill\"\r\n          style={{\r\n            filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n            color: theme ? \"white\" : \"#111\",\r\n          }}\r\n        >\r\n          {onEdit ? (\r\n            <textarea\r\n              rows=\"5\"\r\n              value={content}\r\n              onChange={(e) => setContent(e.target.value)}\r\n            />\r\n          ) : (\r\n            <div>\r\n              {comment.tag && comment.tag._id !== comment.user._id && (\r\n                <Link to={`/profile/${comment.tag._id}`} className=\"mr-1\">\r\n                  @{comment.tag.username}\r\n                </Link>\r\n              )}\r\n              <span>\r\n                {content.length < 100\r\n                  ? content\r\n                  : readMore\r\n                  ? content + \" \"\r\n                  : content.slice(0, 100) + \"....\"}\r\n              </span>\r\n              {content.length > 100 && (\r\n                <span\r\n                  className=\"readMore\"\r\n                  onClick={() => setReadMore(!readMore)}\r\n                >\r\n                  {readMore ? \"Hide content\" : \"Read more\"}\r\n                </span>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <div style={{ cursor: \"pointer\" }}>\r\n            <small className=\"text-muted mr-3\">\r\n              {moment(comment.createdAt).fromNow()}\r\n            </small>\r\n\r\n            <small className=\"font-weight-bold mr-3\">\r\n              {comment.likes.length} likes\r\n            </small>\r\n\r\n            {onEdit ? (\r\n              <>\r\n                <small className=\"font-weight-bold mr-3\" onClick={handleUpdate}>\r\n                  update\r\n                </small>\r\n                <small\r\n                  className=\"font-weight-bold mr-3\"\r\n                  onClick={() => setOnEdit(false)}\r\n                >\r\n                  cancel\r\n                </small>\r\n              </>\r\n            ) : (\r\n              <small className=\"font-weight-bold mr-3\" onClick={handleReply}>\r\n                {onReply ? \"cancel\" : \"reply\"}\r\n              </small>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"d-flex align-items-center mx-2\"\r\n          style={{ cursor: \"pointer\" }}\r\n        >\r\n          <CommentMenu post={post} comment={comment} setOnEdit={setOnEdit} />\r\n          <LikeButton\r\n            isLike={isLike}\r\n            handleLike={handleLike}\r\n            handleUnLike={handleUnLike}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {onReply && (\r\n        <InputComment post={post} onReply={onReply} setOnReply={setOnReply}>\r\n          <Link to={`/profile/${onReply.user._id}`} className=\"mr-1\">\r\n            @{onReply.user.username}:\r\n          </Link>\r\n        </InputComment>\r\n      )}\r\n\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentCard;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport CommentCard from \"./CommentCard\";\r\n\r\nconst CommentDisplay = ({ comment, post, replyCm }) => {\r\n  const [showRep, setShowRep] = useState([]);\r\n  const [next, setNext] = useState(1);\r\n\r\n  useEffect(() => {\r\n    setShowRep(replyCm.slice(replyCm.length - next));\r\n  }, [replyCm, next]);\r\n\r\n  return (\r\n    <div className=\"comment_display\">\r\n      <CommentCard comment={comment} post={post} commentId={comment._id}>\r\n        <div className=\"pl-4\">\r\n          {showRep.map(\r\n            (item, index) =>\r\n              item.reply && (\r\n                <CommentCard\r\n                  key={comment._id}\r\n                  comment={item}\r\n                  post={post}\r\n                  commentId={comment._id}\r\n                />\r\n              )\r\n          )}\r\n\r\n          {replyCm.length - next > 0 ? (\r\n            <div\r\n              style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n              onClick={() => setNext(next + 10)}\r\n            >\r\n              See more comments...\r\n            </div>\r\n          ) : (\r\n            replyCm.length > 1 && (\r\n              <div\r\n                style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n                onClick={() => setNext(1)}\r\n              >\r\n                Hide comments...\r\n              </div>\r\n            )\r\n          )}\r\n        </div>\r\n      </CommentCard>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentDisplay;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport CommentDisplay from \"./comments/CommentDisplay\";\r\n\r\nconst Comments = ({ post }) => {\r\n  const [comments, setComments] = useState([]);\r\n  const [showComments, setShowComments] = useState([]);\r\n  const [next, setNext] = useState(2);\r\n\r\n  const [replyComments, setReplyComments] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const newCm = post.comments.filter((cm) => !cm.reply);\r\n    setComments(newCm);\r\n    setShowComments(newCm.slice(newCm.length - next));\r\n  }, [post.comments, next]);\r\n\r\n  useEffect(() => {\r\n    const newRep = post.comments.filter((cm) => cm.reply);\r\n    setReplyComments(newRep);\r\n  }, [post.comments]);\r\n\r\n  return (\r\n    <div className=\"comments\">\r\n      {showComments.map((comment, index) => (\r\n        <CommentDisplay\r\n          key={index}\r\n          comment={comment}\r\n          post={post}\r\n          replyCm={replyComments.filter((item) => item.reply === comment._id)}\r\n        />\r\n      ))}\r\n\r\n      {comments.length - next > 0 ? (\r\n        <div\r\n          className=\"p-2 border-top\"\r\n          style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n          onClick={() => setNext(next + 10)}\r\n        >\r\n          See more comments...\r\n        </div>\r\n      ) : (\r\n        comments.length > 2 && (\r\n          <div\r\n            className=\"p-2 border-top\"\r\n            style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n            onClick={() => setNext(2)}\r\n          >\r\n            Hide comments...\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comments;\r\n","import React from \"react\";\r\nimport CardHeader from \"./home/post_card/CardHeader\";\r\nimport CardBody from \"./home/post_card/CardBody\";\r\nimport CardFooter from \"./home/post_card/CardFooter\";\r\n\r\nimport Comments from \"./home/Comments\";\r\nimport InputComment from \"./home/InputComment\";\r\n\r\nconst PostCard = ({ post, theme }) => {\r\n  return (\r\n    <div className=\"card my-3\">\r\n      <CardHeader post={post} />\r\n      <CardBody post={post} theme={theme} />\r\n      <CardFooter post={post} />\r\n\r\n      <Comments post={post} />\r\n      <InputComment post={post} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCard;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  getDiscoverPosts,\r\n  DISCOVER_TYPES,\r\n} from \"../redux/actions/discoverAction\";\r\nimport LoadIcon from \"../images/loading.gif\";\r\nimport PostThumb from \"../components/PostThumb\";\r\nimport LoadMoreBtn from \"../components/LoadMoreBtn\";\r\nimport { getDataAPI } from \"../utils/fetchData\";\r\n\r\nconst Discover = () => {\r\n  const { auth, discover } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [load, setLoad] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!discover.firstLoad) {\r\n      dispatch(getDiscoverPosts(auth.token));\r\n    }\r\n  }, [dispatch, auth.token, discover.firstLoad]);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(\r\n      `post_discover?num=${discover.page * 9}`,\r\n      auth.token\r\n    );\r\n    dispatch({ type: DISCOVER_TYPES.UPDATE_POST, payload: res.data });\r\n    setLoad(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {discover.loading ? (\r\n        <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\r\n      ) : (\r\n        <PostThumb posts={discover.posts} result={discover.result} />\r\n      )}\r\n\r\n      {load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />}\r\n\r\n      {!discover.loading && (\r\n        <LoadMoreBtn\r\n          result={discover.result}\r\n          page={discover.page}\r\n          load={load}\r\n          handleLoadMore={handleLoadMore}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Discover;\r\n","import axios from 'axios'\r\n\r\nexport const getDataAPI = async (url, token) => {\r\n    const res = await axios.get(`/api/${url}`, {\r\n        headers: { Authorization: token}\r\n    })\r\n    return res;\r\n}\r\n\r\nexport const postDataAPI = async (url, post, token) => {\r\n    const res = await axios.post(`/api/${url}`, post, {\r\n        headers: { Authorization: token}\r\n    })\r\n    return res;\r\n}\r\n\r\nexport const putDataAPI = async (url, post, token) => {\r\n    const res = await axios.put(`/api/${url}`, post, {\r\n        headers: { Authorization: token}\r\n    })\r\n    return res;\r\n}\r\n\r\nexport const patchDataAPI = async (url, post, token) => {\r\n    const res = await axios.patch(`/api/${url}`, post, {\r\n        headers: { Authorization: token}\r\n    })\r\n    return res;\r\n}\r\n\r\nexport const deleteDataAPI = async (url, token) => {\r\n    const res = await axios.delete(`/api/${url}`, {\r\n        headers: { Authorization: token}\r\n    })\r\n    return res;\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getPost } from \"../../redux/actions/postAction\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\nimport PostCard from \"../../components/PostCard\";\r\n\r\nconst Post = () => {\r\n  const { id } = useParams();\r\n  const [post, setPost] = useState([]);\r\n\r\n  const { auth, detailPost } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getPost({ detailPost, id, auth }));\r\n\r\n    if (detailPost.length > 0) {\r\n      const newArr = detailPost.filter((post) => post._id === id);\r\n      setPost(newArr);\r\n    }\r\n  }, [detailPost, dispatch, id, auth]);\r\n\r\n  return (\r\n    <div className=\"posts\">\r\n      {post.length === 0 && (\r\n        <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\r\n      )}\r\n\r\n      {post.map((item) => (\r\n        <PostCard key={item._id} post={item} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {checkImage} from '../../utils/imageUpload'\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport { updateProfileUser } from \"../../redux/actions/profileAction\";\r\n\r\nconst EditProfile = ({ setOnEdit }) => {\r\n  const initState = {\r\n    fullname: \"\",\r\n    mobile: \"\",\r\n    address: \"\",\r\n    website: \"\",\r\n    story: \"\",\r\n    gender: \"\",\r\n  };\r\n  const [userData, setUserData] = useState(initState);\r\n  const { fullname, mobile, address, website, story, gender } = userData;\r\n\r\n  const [avatar, setAvatar] = useState(\"\");\r\n\r\n  const { auth, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setUserData(auth.user);\r\n  }, [auth.user]);\r\n\r\n  const changeAvatar = (e) => {\r\n    const file = e.target.files[0];\r\n\r\n    const err = checkImage(file);\r\n    if (err)\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err },\r\n      });\r\n\r\n    setAvatar(file);\r\n  };\r\n\r\n  const handleInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(updateProfileUser({ userData, avatar, auth }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"edit_profile\">\r\n      <button\r\n        className=\"btn btn-danger btn_close\"\r\n        onClick={() => setOnEdit(false)}\r\n      >\r\n        Close\r\n      </button>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"info_avatar\">\r\n          <img\r\n            src={avatar ? URL.createObjectURL(avatar) : auth.user.avatar}\r\n            alt=\"avatar\"\r\n            style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n          />\r\n          <span>\r\n            <i className=\"fas fa-camera\" />\r\n            <p>Change</p>\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              id=\"file_up\"\r\n              accept=\"image/*\"\r\n              onChange={changeAvatar}\r\n            />\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"fullname\">Full Name</label>\r\n          <div className=\"position-relative\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"fullname\"\r\n              name=\"fullname\"\r\n              value={fullname}\r\n              onChange={handleInput}\r\n            />\r\n            <small\r\n              className=\"text-danger position-absolute\"\r\n              style={{\r\n                top: \"50%\",\r\n                right: \"5px\",\r\n                transform: \"translateY(-50%)\",\r\n              }}\r\n            >\r\n              {fullname.length}/25\r\n            </small>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"mobile\">Mobile</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"mobile\"\r\n            value={mobile}\r\n            className=\"form-control\"\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"address\">Address</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"address\"\r\n            value={address}\r\n            className=\"form-control\"\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"website\">Website</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"website\"\r\n            value={website}\r\n            className=\"form-control\"\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"story\">Story</label>\r\n          <textarea\r\n            name=\"story\"\r\n            value={story}\r\n            cols=\"30\"\r\n            rows=\"4\"\r\n            className=\"form-control\"\r\n            onChange={handleInput}\r\n          />\r\n\r\n          <small className=\"text-danger d-block text-right\">\r\n            {story.length}/200\r\n          </small>\r\n        </div>\r\n\r\n        <label htmlFor=\"gender\">Gender</label>\r\n        <div className=\"input-group-prepend px-0 mb-4\">\r\n          <select\r\n            name=\"gender\"\r\n            id=\"gender\"\r\n            value={gender}\r\n            className=\"custom-select text-capitalize\"\r\n            onChange={handleInput}\r\n          >\r\n            <option value=\"male\">Male</option>\r\n            <option value=\"female\">Female</option>\r\n            <option value=\"other\">Other</option>\r\n          </select>\r\n        </div>\r\n\r\n        <button className=\"btn btn-info w-100\" type=\"submit\">\r\n          Save\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProfile;\r\n","import React from \"react\";\r\nimport UserCard from \"../UserCard\";\r\nimport FollowBtn from \"../FollowBtn\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Followers = ({ users, setShowFollowers }) => {\r\n  const { auth } = useSelector((state) => state);\r\n  return (\r\n    <div className=\"follow\">\r\n      <div className=\"follow_box\">\r\n        <h5 className=\"text-center\">Followers</h5>\r\n        <hr />\r\n\r\n        <div className=\"follow_content\">\r\n          {users.map((user) => (\r\n            <UserCard\r\n              key={user._id}\r\n              user={user}\r\n              setShowFollowers={setShowFollowers}\r\n            >\r\n              {auth.user._id !== user._id && <FollowBtn user={user} />}\r\n            </UserCard>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"close\" onClick={() => setShowFollowers(false)}>\r\n          &times;\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Followers;\r\n","import React from \"react\";\r\nimport UserCard from \"../UserCard\";\r\nimport FollowBtn from \"../FollowBtn\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Following = ({ users, setShowFollowing }) => {\r\n  const { auth } = useSelector((state) => state);\r\n  return (\r\n    <div className=\"follow\">\r\n      <div className=\"follow_box\">\r\n        <h5 className=\"text-center\">Following</h5>\r\n        <hr />\r\n\r\n        <div className=\"follow_content\">\r\n          {users.map((user) => (\r\n            <UserCard\r\n              key={user._id}\r\n              user={user}\r\n              setShowFollowing={setShowFollowing}\r\n            >\r\n              {auth.user._id !== user._id && <FollowBtn user={user} />}\r\n            </UserCard>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"close\" onClick={() => setShowFollowing(false)}>\r\n          &times;\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Following;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Avatar from \"../Avatar\";\r\nimport EditProfile from \"./EditProfile\";\r\nimport FollowBtn from \"../FollowBtn\";\r\nimport Followers from \"./Followers\";\r\nimport Following from \"./Following\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\n\r\nconst Info = ({ id, auth, profile, dispatch }) => {\r\n  const [userData, setUserData] = useState([]);\r\n  const [onEdit, setOnEdit] = useState(false);\r\n\r\n  const [showFollowers, setShowFollowers] = useState(false);\r\n  const [showFollowing, setShowFollowing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (id === auth.user._id) {\r\n      setUserData([auth.user]);\r\n    } else {\r\n      const newData = profile.users.filter((user) => user._id === id);\r\n      setUserData(newData);\r\n    }\r\n  }, [id, auth, dispatch, profile.users]);\r\n\r\n  useEffect(() => {\r\n    if (showFollowers || showFollowing || onEdit) {\r\n      dispatch({ type: GLOBALTYPES.MODAL, payload: true });\r\n    } else {\r\n      dispatch({ type: GLOBALTYPES.MODAL, payload: false });\r\n    }\r\n  }, [showFollowers, showFollowing, onEdit, dispatch]);\r\n\r\n  return (\r\n    <div className=\"info\">\r\n      {userData.map((user) => (\r\n        <div className=\"info_container\" key={user._id}>\r\n          <Avatar src={user.avatar} size=\"supper-avatar\" />\r\n\r\n          <div className=\"info_content\">\r\n            <div className=\"info_content_title\">\r\n              <h2>{user.username}</h2>\r\n              {user._id === auth.user._id ? (\r\n                <button\r\n                  className=\"btn btn-outline-info\"\r\n                  onClick={() => setOnEdit(true)}\r\n                >\r\n                  Edit Profile\r\n                </button>\r\n              ) : (\r\n                <FollowBtn user={user} />\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"follow_btn\">\r\n              <span className=\"mr-4\" onClick={() => setShowFollowers(true)}>\r\n                {user.followers.length} Followers\r\n              </span>\r\n              <span className=\"ml-4\" onClick={() => setShowFollowing(true)}>\r\n                {user.following.length} Following\r\n              </span>\r\n            </div>\r\n\r\n            <h6>\r\n              {user.fullname} <span className=\"text-danger\">{user.mobile}</span>\r\n            </h6>\r\n            <p className=\"m-0\">{user.address}</p>\r\n            <h6 className=\"m-0\">{user.email}</h6>\r\n            <a href={user.website} target=\"_blank\" rel=\"noreferrer\">\r\n              {user.website}\r\n            </a>\r\n            <p>{user.story}</p>\r\n          </div>\r\n\r\n          {onEdit && <EditProfile setOnEdit={setOnEdit} />}\r\n\r\n          {showFollowers && (\r\n            <Followers\r\n              users={user.followers}\r\n              setShowFollowers={setShowFollowers}\r\n            />\r\n          )}\r\n          {showFollowing && (\r\n            <Following\r\n              users={user.following}\r\n              setShowFollowing={setShowFollowing}\r\n            />\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Info;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PostThumb from \"../PostThumb\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\nimport LoadMoreBtn from \"../LoadMoreBtn\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { PROFILE_TYPES } from \"../../redux/actions/profileAction\";\r\n\r\nconst Posts = ({ auth, id, dispatch, profile }) => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [result, setResult] = useState(9);\r\n  const [page, setPage] = useState(0);\r\n  const [load, setLoad] = useState(false);\r\n\r\n  useEffect(() => {\r\n    profile.posts.forEach((data) => {\r\n      if (data._id === id) {\r\n        setPosts(data.posts);\r\n        setResult(data.result);\r\n        setPage(data.page);\r\n      }\r\n    });\r\n  }, [profile.posts, id]);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(\r\n      `user_posts/${id}?limit=${page * 9}`,\r\n      auth.token\r\n    );\r\n    const newData = { ...res.data, page: page + 1, _id: id };\r\n    dispatch({ type: PROFILE_TYPES.UPDATE_POST, payload: newData });\r\n    setLoad(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <PostThumb posts={posts} result={result} />\r\n\r\n      {load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />}\r\n\r\n      <LoadMoreBtn\r\n        result={result}\r\n        page={page}\r\n        load={load}\r\n        handleLoadMore={handleLoadMore}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PostThumb from \"../PostThumb\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\nimport LoadMoreBtn from \"../LoadMoreBtn\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\n\r\nconst Saved = ({ auth, dispatch }) => {\r\n  const [savePosts, setSavePosts] = useState([]);\r\n  const [result, setResult] = useState(9);\r\n  const [page, setPage] = useState(2);\r\n  const [load, setLoad] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoad(true);\r\n    getDataAPI(\"getSavePosts\", auth.token)\r\n      .then((res) => {\r\n        setSavePosts(res.data.savePosts);\r\n        setResult(res.data.result);\r\n        setLoad(false);\r\n      })\r\n      .catch((err) => {\r\n        dispatch({\r\n          type: GLOBALTYPES.ALERT,\r\n          payload: { error: err.response.data.msg },\r\n        });\r\n      });\r\n\r\n    return () => setSavePosts([]);\r\n  }, [auth.token, dispatch]);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(`getSavePosts?limit=${page * 9}`, auth.token);\r\n    setSavePosts(res.data.savePosts);\r\n    setResult(res.data.result);\r\n    setPage(page + 1);\r\n    setLoad(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <PostThumb posts={savePosts} result={result} />\r\n\r\n      {load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />}\r\n\r\n      <LoadMoreBtn\r\n        result={result}\r\n        page={page}\r\n        load={load}\r\n        handleLoadMore={handleLoadMore}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Saved;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Info from \"../../components/profile/Info\";\r\nimport Posts from \"../../components/profile/Posts\";\r\nimport Saved from \"../../components/profile/Saved\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\nimport { getProfileUsers } from \"../../redux/actions/profileAction\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst Profile = () => {\r\n  const { profile, auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const { id } = useParams();\r\n  const [saveTab, setSaveTab] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (profile.ids.every((item) => item !== id)) {\r\n      dispatch(getProfileUsers({ id, auth }));\r\n    }\r\n  }, [id, auth, dispatch, profile.ids]);\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      <Info auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n\r\n      {auth.user._id === id && (\r\n        <div className=\"profile_tab\">\r\n          <button\r\n            className={saveTab ? \"\" : \"active\"}\r\n            onClick={() => setSaveTab(false)}\r\n          >\r\n            Posts\r\n          </button>\r\n          <button\r\n            className={saveTab ? \"active\" : \"\"}\r\n            onClick={() => setSaveTab(true)}\r\n          >\r\n            Saved\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {profile.loading ? (\r\n        <img className=\"d-block mx-auto\" src={LoadIcon} alt=\"loading\" />\r\n      ) : (\r\n        <>\r\n          {saveTab ? (\r\n            <Saved auth={auth} dispatch={dispatch} />\r\n          ) : (\r\n            <Posts auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"sourceRoot":""}